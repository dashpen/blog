<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>P3 4/27 Big Idea 3 Data Structures | Blog</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="P3 4/27 Big Idea 3 Data Structures" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Big Idea 3 with Databases and Data Operations" />
<meta property="og:description" content="Big Idea 3 with Databases and Data Operations" />
<link rel="canonical" href="https://dashpen.github.io/blog/2023/04/30/thursdayLesson.html" />
<meta property="og:url" content="https://dashpen.github.io/blog/2023/04/30/thursdayLesson.html" />
<meta property="og:site_name" content="Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-04-30T00:00:00-05:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="P3 4/27 Big Idea 3 Data Structures" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-04-30T00:00:00-05:00","datePublished":"2023-04-30T00:00:00-05:00","description":"Big Idea 3 with Databases and Data Operations","headline":"P3 4/27 Big Idea 3 Data Structures","mainEntityOfPage":{"@type":"WebPage","@id":"https://dashpen.github.io/blog/2023/04/30/thursdayLesson.html"},"url":"https://dashpen.github.io/blog/2023/04/30/thursdayLesson.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/blog/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://dashpen.github.io/blog/feed.xml" title="Blog" /><link rel="shortcut icon" type="image/x-icon" href="/blog/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/blog/">Blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/blog/TheBestPage/">The Best Page</a><a class="page-link" href="/blog/about/">About Me</a><a class="page-link" href="/blog/lessonTable/">Lesson Table</a><a class="page-link" href="/blog/notes/">Notes</a><a class="page-link" href="/blog/search/">Search</a><a class="page-link" href="/blog/categories/">Tags</a><a class="page-link" href="/blog/vocab/">Vocabulary</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">P3 4/27 Big Idea 3 Data Structures</h1><p class="page-description">Big Idea 3 with Databases and Data Operations</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2023-04-30T00:00:00-05:00" itemprop="datePublished">
        Apr 30, 2023
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      37 min read
    
</span></p>

    

    
      
        <div class="pb-5 d-flex flex-justify-center">
          <div class="px-2">

    <a href="https://github.com/dashpen/blog/tree/master/_notebooks/2023-04-30-thursdayLesson.ipynb" role="button" target="_blank">
<img class="notebook-badge-image" src="/blog/assets/badges/github.svg" alt="View On GitHub">
    </a>
</div>

          <div class="px-2">
    <a href="https://mybinder.org/v2/gh/dashpen/blog/master?filepath=_notebooks%2F2023-04-30-thursdayLesson.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/blog/assets/badges/binder.svg" alt="Open In Binder"/>
    </a>
</div>

          <div class="px-2">
    <a href="https://colab.research.google.com/github/dashpen/blog/blob/master/_notebooks/2023-04-30-thursdayLesson.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/blog/assets/badges/colab.svg" alt="Open In Colab"/>
    </a>
</div>
          <div class="px-2">
  <a href="https://deepnote.com/launch?url=https%3A%2F%2Fgithub.com%2Fdashpen%2Fblog%2Fblob%2Fmaster%2F_notebooks%2F2023-04-30-thursdayLesson.ipynb" target="_blank">
      <img class="notebook-badge-image" src="/blog/assets/badges/deepnote.svg" alt="Launch in Deepnote"/>
  </a>
</div>

        </div>
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul id="toc" class="section-nav">
<li class="toc-entry toc-h3"><a href="#Leaderboard-Database">Leaderboard Database </a>
<ul>
<li class="toc-entry toc-h4"><a href="#What-is-a-database-model">What is a database model </a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#Creating-SQLAlchemy-App">Creating SQLAlchemy App </a></li>
<li class="toc-entry toc-h3"><a href="#Creating-Database-Template">Creating Database Template </a></li>
<li class="toc-entry toc-h3"><a href="#Initialization-of-Data">Initialization of Data </a></li>
<li class="toc-entry toc-h3"><a href="#DO-THESE-FOR-THIS-SECTION">DO THESE FOR THIS SECTION </a></li>
<li class="toc-entry toc-h2"><a href="#Picture-Database">Picture Database </a>
<ul>
<li class="toc-entry toc-h4"><a href="#Popcorn-Hacks">Popcorn Hacks </a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#Picture-Encoding">Picture Encoding </a>
<ul>
<li class="toc-entry toc-h3"><a href="#Popcorn-Hack:">Popcorn Hack: </a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#Endpoints">Endpoints </a>
<ul>
<li class="toc-entry toc-h3"><a href="#Backend:">Backend: </a></li>
<li class="toc-entry toc-h3"><a href="#Methods-in-Backend-Example">Methods in Backend Example </a>
<ul>
<li class="toc-entry toc-h4"><a href="#GET-Method">GET Method </a></li>
<li class="toc-entry toc-h4"><a href="#POST-Method">POST Method </a></li>
<li class="toc-entry toc-h4"><a href="#PUT-Method">PUT Method </a></li>
<li class="toc-entry toc-h4"><a href="#DELETE-Method">DELETE Method </a></li>
<li class="toc-entry toc-h4"><a href="#Displaying-the-Full-Database">Displaying the Full Database </a></li>
<li class="toc-entry toc-h4"><a href="#Popcorn-Hacks">Popcorn Hacks </a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#Frontend-and-How-it-Communicates-to-Backend">Frontend and How it Communicates to Backend </a>
<ul>
<li class="toc-entry toc-h4"><a href="#GET-Method">GET Method </a>
<ul>
<li class="toc-entry toc-h5"><a href="#Printing-the-Data">Printing the Data </a></li>
</ul>
</li>
<li class="toc-entry toc-h4"><a href="#POST-Method">POST Method </a></li>
<li class="toc-entry toc-h4"><a href="#PUT-and-DELETE-Methods">PUT and DELETE Methods </a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#Calling-Images-(GET-Method)">Calling Images (GET Method) </a>
<ul>
<li class="toc-entry toc-h4"><a href="#Popcorn-Hacks">Popcorn Hacks </a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#Time-and-Space-Complexity-of-Algorithms">Time and Space Complexity of Algorithms </a>
<ul>
<li class="toc-entry toc-h3"><a href="#QuickSort-Algorithm">QuickSort Algorithm </a></li>
<li class="toc-entry toc-h3"><a href="#The-Logic">The Logic </a>
<ul>
<li class="toc-entry toc-h4"><a href="#Partition-procedure">Partition procedure </a></li>
<li class="toc-entry toc-h4"><a href="#qSort-procedure">qSort procedure </a></li>
<li class="toc-entry toc-h4"><a href="#Complexity-analysis">Complexity analysis </a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#Popcorn-Hack">Popcorn Hack </a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#Hacks---Frontend-and-Backend">Hacks - Frontend and Backend </a></li>
<li class="toc-entry toc-h2"><a href="#Hacks---QuickSort">Hacks - QuickSort </a></li>
<li class="toc-entry toc-h2"><a href="#Hacks-Helpers">Hacks Helpers </a></li>
<li class="toc-entry toc-h2"><a href="#Points">Points </a></li>
<li class="toc-entry toc-h1"><a href="#HACKS-ARE-DUE-SATURDAY-(4/29)-11:59-PM">HACKS ARE DUE SATURDAY (4/29) 11:59 PM </a></li>
</ul><!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2023-04-30-thursdayLesson.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Leaderboard-Database">
<a class="anchor" href="#Leaderboard-Database" aria-hidden="true"><span class="octicon octicon-link"></span></a>Leaderboard Database<a class="anchor-link" href="#Leaderboard-Database"> </a>
</h3>
<blockquote>
<p>How do you set up a database model?</p>
<h4 id="What-is-a-database-model">
<a class="anchor" href="#What-is-a-database-model" aria-hidden="true"><span class="octicon octicon-link"></span></a>What is a database model<a class="anchor-link" href="#What-is-a-database-model"> </a>
</h4>
<ul>
<li>A database model shows the logical structure of a database</li>
<li>It fundamentally determines in which manner data can be sotred, organized, and manipulated</li>
<li>Some popular database models are relational models, object oriented models, hierarchial models, flat file models, and network models</li>
<li>The one below is an Object-Relational Model which is a combination of a relational model and an object oriented model</li>
</ul>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Creating-SQLAlchemy-App">
<a class="anchor" href="#Creating-SQLAlchemy-App" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating SQLAlchemy App<a class="anchor-link" href="#Creating-SQLAlchemy-App"> </a>
</h3>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-javascript"><pre><span></span><span class="nx">from</span> <span class="nx">flask</span> <span class="kr">import</span> <span class="nx">Flask</span>
<span class="nx">from</span> <span class="nx">flask_sqlalchemy</span> <span class="kr">import</span> <span class="nx">SQLAlchemy</span>

<span class="err">#</span> <span class="nx">Setup</span> <span class="k">of</span> <span class="nx">key</span> <span class="nx">Flask</span> <span class="nx">object</span> <span class="p">(</span><span class="nx">app</span><span class="p">)</span>
<span class="nx">app</span> <span class="o">=</span> <span class="nx">Flask</span><span class="p">(</span><span class="nx">__name__</span><span class="p">)</span>

<span class="err">#</span> <span class="nx">Setup</span> <span class="nx">SQLAlchemy</span> <span class="nx">object</span> <span class="nx">and</span> <span class="nx">properties</span> <span class="k">for</span> <span class="nx">the</span> <span class="nx">database</span> <span class="p">(</span><span class="nx">db</span><span class="p">)</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">config</span><span class="p">[</span><span class="s1">'SQLALCHEMY_DATABASE_URI'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'sqlite:///sqlite.db'</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">config</span><span class="p">[</span><span class="s2">"SQLALCHEMY_TRACK_MODIFICATIONS"</span><span class="p">]</span> <span class="o">=</span> <span class="nx">False</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">config</span><span class="p">[</span><span class="s2">"SECRET_KEY"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"SECRET_KEY"</span>
<span class="nx">db</span> <span class="o">=</span> <span class="nx">SQLAlchemy</span><span class="p">(</span><span class="nx">app</span><span class="p">)</span>

<span class="err">#</span> <span class="nx">Images</span> <span class="nx">storage</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">config</span><span class="p">[</span><span class="s2">"MAX_CONTENT_LENGTH"</span><span class="p">]</span> <span class="o">=</span> <span class="mf">5</span> <span class="o">*</span> <span class="mf">1024</span> <span class="o">*</span> <span class="mf">1024</span>  <span class="err">#</span> <span class="nx">maximum</span> <span class="nx">size</span> <span class="k">of</span> <span class="nx">uploaded</span> <span class="nx">content</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">config</span><span class="p">[</span><span class="s2">"UPLOAD_EXTENSIONS"</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">".jpg"</span><span class="p">,</span> <span class="s2">".png"</span><span class="p">,</span> <span class="s2">".gif"</span><span class="p">]</span>  <span class="err">#</span> <span class="nx">supported</span> <span class="nx">file</span> <span class="nx">types</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">config</span><span class="p">[</span><span class="s2">"UPLOAD_FOLDER"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"volumes/uploads/"</span>  <span class="err">#</span> <span class="nx">location</span> <span class="k">of</span> <span class="nx">user</span> <span class="nx">uploaded</span> <span class="nx">content</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Creating-Database-Template">
<a class="anchor" href="#Creating-Database-Template" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating Database Template<a class="anchor-link" href="#Creating-Database-Template"> </a>
</h3>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-javascript"><pre><span></span><span class="nx">from</span> <span class="nx">sqlalchemy</span> <span class="kr">import</span> <span class="nx">Column</span><span class="p">,</span> <span class="nx">Integer</span><span class="p">,</span> <span class="nb">String</span><span class="p">,</span> <span class="nx">Text</span>
<span class="nx">from</span> <span class="nx">sqlalchemy</span><span class="p">.</span><span class="nx">exc</span> <span class="kr">import</span> <span class="nx">IntegrityError</span>
<span class="kr">import</span> <span class="nx">json</span>
<span class="nx">from</span> <span class="nx">werkzeug</span><span class="p">.</span><span class="nx">security</span> <span class="kr">import</span> <span class="nx">generate_password_hash</span><span class="p">,</span> <span class="nx">check_password_hash</span>


<span class="err">#</span> 
<span class="err">#</span> <span class="nx">Leaderboard</span> <span class="nx">DB</span> <span class="kr">class</span> <span class="nx">that</span> <span class="nx">maps</span> <span class="nx">leaderboard</span> <span class="nx">SQL</span> <span class="nx">table</span> 
<span class="err">#</span>
<span class="kr">class</span> <span class="nx">Leaderboard</span><span class="p">(</span><span class="nx">db</span><span class="p">.</span><span class="nx">Model</span><span class="p">)</span><span class="o">:</span>
    <span class="nx">__tablename__</span> <span class="o">=</span> <span class="s2">"leaderboard"</span>

    <span class="err">#</span> 
    <span class="err">#</span> <span class="nx">Leaderboard</span> <span class="nx">DB</span> <span class="nx">columns</span> <span class="k">for</span> <span class="nx">easy</span><span class="p">,</span> <span class="nx">medium</span> <span class="nx">and</span> <span class="nx">hard</span> <span class="nx">points</span> <span class="kd">with</span> <span class="nx">user</span> <span class="nx">info</span>
    <span class="err">#</span>    
    <span class="nx">id</span> <span class="o">=</span> <span class="nx">Column</span><span class="p">(</span><span class="nx">Integer</span><span class="p">,</span> <span class="nx">primary_key</span><span class="o">=</span><span class="nx">True</span><span class="p">)</span>
    <span class="nx">_username</span> <span class="o">=</span> <span class="nx">Column</span><span class="p">(</span><span class="nb">String</span><span class="p">(</span><span class="mf">255</span><span class="p">),</span> <span class="nx">unique</span><span class="o">=</span><span class="nx">True</span><span class="p">,</span> <span class="nx">nullable</span><span class="o">=</span><span class="nx">False</span><span class="p">)</span>
    <span class="nx">_password</span> <span class="o">=</span> <span class="nx">Column</span><span class="p">(</span><span class="nb">String</span><span class="p">(</span><span class="mf">255</span><span class="p">),</span> <span class="nx">nullable</span><span class="o">=</span><span class="nx">False</span><span class="p">)</span>
    <span class="nx">_pointsEasy</span> <span class="o">=</span> <span class="nx">Column</span><span class="p">(</span><span class="nx">Integer</span><span class="p">,</span> <span class="nx">nullable</span><span class="o">=</span><span class="nx">False</span><span class="p">)</span>
    <span class="nx">_pointsMedium</span> <span class="o">=</span> <span class="nx">Column</span><span class="p">(</span><span class="nx">Integer</span><span class="p">,</span> <span class="nx">nullable</span><span class="o">=</span><span class="nx">False</span><span class="p">)</span>
    <span class="nx">_pointsHard</span> <span class="o">=</span> <span class="nx">Column</span><span class="p">(</span><span class="nx">Integer</span><span class="p">,</span> <span class="nx">nullable</span><span class="o">=</span><span class="nx">False</span><span class="p">)</span>

    <span class="err">#</span> 
    <span class="err">#</span> <span class="nx">Leaderboard</span> <span class="nx">DB</span> <span class="kr">class</span> <span class="nx">constructor</span> 
    <span class="err">#</span>
    <span class="nx">def</span> <span class="nx">__init__</span><span class="p">(</span><span class="nx">self</span><span class="p">,</span> <span class="nx">username</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">pointsEasy</span><span class="p">,</span> <span class="nx">pointsMedium</span><span class="p">,</span> <span class="nx">pointsHard</span><span class="p">)</span><span class="o">:</span>
        <span class="nx">self</span><span class="p">.</span><span class="nx">_username</span> <span class="o">=</span> <span class="nx">username</span>
        <span class="nx">self</span><span class="p">.</span><span class="nx">set_password</span><span class="p">(</span><span class="nx">password</span><span class="p">)</span>
        <span class="nx">self</span><span class="p">.</span><span class="nx">_pointsEasy</span> <span class="o">=</span> <span class="nx">pointsEasy</span>
        <span class="nx">self</span><span class="p">.</span><span class="nx">_pointsMedium</span> <span class="o">=</span> <span class="nx">pointsMedium</span>
        <span class="nx">self</span><span class="p">.</span><span class="nx">_pointsHard</span> <span class="o">=</span> <span class="nx">pointsHard</span>

    <span class="err">#</span> 
    <span class="err">#</span> <span class="nx">Leaderboard</span> <span class="nx">DB</span> <span class="kr">class</span> <span class="nx">string</span> <span class="nx">representation</span> <span class="k">of</span> <span class="nx">an</span> <span class="nx">object</span>
    <span class="err">#</span>
    <span class="nx">def</span> <span class="nx">__repr__</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span><span class="o">:</span>
        <span class="k">return</span> <span class="s2">"&lt;Leaderboard(id='%s', username='%s', pointsEasy='%s', pointsMedium='%s', pointsHard='%s')&gt;"</span> <span class="o">%</span> <span class="p">(</span>
            <span class="nx">self</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span>
            <span class="nx">self</span><span class="p">.</span><span class="nx">username</span><span class="p">,</span>
            <span class="nx">self</span><span class="p">.</span><span class="nx">pointsEasy</span><span class="p">,</span>
            <span class="nx">self</span><span class="p">.</span><span class="nx">pointsMedium</span><span class="p">,</span>
            <span class="nx">self</span><span class="p">.</span><span class="nx">pointsHard</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="err">#</span> 
    <span class="err">#</span> <span class="nx">Returns</span> <span class="nx">Leaderboard</span> <span class="nx">username</span>
    <span class="err">#</span>    
    <span class="err">@</span><span class="nx">property</span>
    <span class="nx">def</span> <span class="nx">username</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span><span class="o">:</span>
        <span class="k">return</span> <span class="nx">self</span><span class="p">.</span><span class="nx">_username</span>

    <span class="err">#</span> 
    <span class="err">#</span> <span class="nx">Sets</span> <span class="nx">Leaderboard</span> <span class="nx">username</span>
    <span class="err">#</span>        
    <span class="err">@</span><span class="nx">username</span><span class="p">.</span><span class="nx">setter</span>
    <span class="nx">def</span> <span class="nx">username</span><span class="p">(</span><span class="nx">self</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span><span class="o">:</span>
        <span class="nx">self</span><span class="p">.</span><span class="nx">_username</span> <span class="o">=</span> <span class="nx">value</span>

    <span class="err">#</span> 
    <span class="err">#</span> <span class="nx">checks</span> <span class="nx">Leaderboard</span> <span class="nx">username</span> <span class="nx">valid</span>
    <span class="err">#</span>            
    <span class="nx">def</span> <span class="nx">is_username</span><span class="p">(</span><span class="nx">self</span><span class="p">,</span> <span class="nx">username</span><span class="p">)</span><span class="o">:</span>
        <span class="k">return</span> <span class="nx">self</span><span class="p">.</span><span class="nx">_username</span> <span class="o">==</span> <span class="nx">username</span>

    <span class="err">#</span> 
    <span class="err">#</span> <span class="nx">Returns</span> <span class="nx">Leaderboard</span> <span class="nx">easy</span> <span class="nx">points</span>
    <span class="err">#</span>        
    <span class="err">@</span><span class="nx">property</span>
    <span class="nx">def</span> <span class="nx">pointsEasy</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span><span class="o">:</span>
        <span class="k">return</span> <span class="nx">self</span><span class="p">.</span><span class="nx">_pointsEasy</span>

    <span class="err">#</span> 
    <span class="err">#</span> <span class="nx">Sets</span> <span class="nx">Leaderboard</span> <span class="nx">easy</span> <span class="nx">points</span>
    <span class="err">#</span>        
    <span class="err">@</span><span class="nx">pointsEasy</span><span class="p">.</span><span class="nx">setter</span>
    <span class="nx">def</span> <span class="nx">pointsEasy</span><span class="p">(</span><span class="nx">self</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span><span class="o">:</span>
        <span class="nx">self</span><span class="p">.</span><span class="nx">_pointsEasy</span> <span class="o">=</span> <span class="nx">value</span>

    <span class="err">#</span> 
    <span class="err">#</span> <span class="nx">Sets</span> <span class="nx">Leaderboard</span> <span class="nx">medium</span> <span class="nx">points</span>
    <span class="err">#</span>            
    <span class="err">@</span><span class="nx">property</span>
    <span class="nx">def</span> <span class="nx">pointsMedium</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span><span class="o">:</span>
        <span class="k">return</span> <span class="nx">self</span><span class="p">.</span><span class="nx">_pointsMedium</span>

    <span class="err">#</span> 
    <span class="err">#</span> <span class="nx">Sets</span> <span class="nx">Leaderboard</span> <span class="nx">medium</span> <span class="nx">points</span>
    <span class="err">#</span>        
    <span class="err">@</span><span class="nx">pointsMedium</span><span class="p">.</span><span class="nx">setter</span>
    <span class="nx">def</span> <span class="nx">pointsMedium</span><span class="p">(</span><span class="nx">self</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span><span class="o">:</span>
        <span class="nx">self</span><span class="p">.</span><span class="nx">_pointsMedium</span> <span class="o">=</span> <span class="nx">value</span>

    <span class="err">#</span> 
    <span class="err">#</span> <span class="nx">Returns</span> <span class="nx">Leaderboard</span> <span class="nx">hard</span> <span class="nx">points</span>
    <span class="err">#</span>            
    <span class="err">@</span><span class="nx">property</span>
    <span class="nx">def</span> <span class="nx">pointsHard</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span><span class="o">:</span>
        <span class="k">return</span> <span class="nx">self</span><span class="p">.</span><span class="nx">_pointsHard</span>

    <span class="err">#</span> 
    <span class="err">#</span> <span class="nx">Sets</span> <span class="nx">Leaderboard</span> <span class="nx">hard</span> <span class="nx">points</span>
    <span class="err">#</span>        
    <span class="err">@</span><span class="nx">pointsHard</span><span class="p">.</span><span class="nx">setter</span>
    <span class="nx">def</span> <span class="nx">pointsHard</span><span class="p">(</span><span class="nx">self</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span><span class="o">:</span>
        <span class="nx">self</span><span class="p">.</span><span class="nx">_pointsHard</span> <span class="o">=</span> <span class="nx">value</span>

    <span class="err">#</span> 
    <span class="err">#</span> <span class="nx">Returns</span> <span class="nx">Leaderboard</span> <span class="nx">password</span>
    <span class="err">#</span>            
    <span class="err">@</span><span class="nx">property</span>
    <span class="nx">def</span> <span class="nx">password</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span><span class="o">:</span>
        <span class="k">return</span> <span class="nx">self</span><span class="p">.</span><span class="nx">_password</span><span class="p">[</span><span class="mf">0</span><span class="o">:</span><span class="mf">10</span><span class="p">]</span> <span class="o">+</span> <span class="s2">"..."</span>

    <span class="err">#</span> 
    <span class="err">#</span> <span class="nx">Sets</span> <span class="nx">Leaderboard</span> <span class="nx">password</span>
    <span class="err">#</span>        
    <span class="nx">def</span> <span class="nx">set_password</span><span class="p">(</span><span class="nx">self</span><span class="p">,</span> <span class="nx">password</span><span class="p">)</span><span class="o">:</span>
        <span class="nx">self</span><span class="p">.</span><span class="nx">_password</span> <span class="o">=</span> <span class="nx">generate_password_hash</span><span class="p">(</span><span class="nx">password</span><span class="p">,</span> <span class="nx">method</span><span class="o">=</span><span class="s1">'sha512'</span><span class="p">)</span>

    <span class="err">#</span> 
    <span class="err">#</span> <span class="nx">Checks</span> <span class="nx">Leaderboard</span> <span class="nx">password</span> <span class="nx">validity</span>
    <span class="err">#</span>            
    <span class="nx">def</span> <span class="nx">is_password</span><span class="p">(</span><span class="nx">self</span><span class="p">,</span> <span class="nx">password</span><span class="p">)</span><span class="o">:</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="nx">check_password_hash</span><span class="p">(</span><span class="nx">self</span><span class="p">.</span><span class="nx">_password</span><span class="p">,</span> <span class="nx">password</span><span class="p">)</span>
        <span class="k">if</span> <span class="nx">result</span><span class="o">:</span>
            <span class="k">return</span> <span class="nx">True</span>
        <span class="k">else</span><span class="o">:</span>
            <span class="k">return</span> <span class="nx">False</span>

    <span class="err">#</span> 
    <span class="err">#</span> <span class="nx">Converts</span> <span class="nx">Leaderboard</span> <span class="nx">to</span> <span class="nx">dictionary</span>
    <span class="err">#</span>            
    <span class="nx">def</span> <span class="nx">to_dict</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span><span class="o">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">"id"</span><span class="o">:</span> <span class="nx">self</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="s2">"username"</span><span class="o">:</span> <span class="nx">self</span><span class="p">.</span><span class="nx">username</span><span class="p">,</span> <span class="s2">"password"</span><span class="o">:</span> <span class="nx">self</span><span class="p">.</span><span class="nx">password</span><span class="p">,</span> <span class="s2">"pointsEasy"</span><span class="o">:</span> <span class="nx">self</span><span class="p">.</span><span class="nx">_pointsEasy</span><span class="p">,</span> <span class="s2">"pointsMedium"</span><span class="o">:</span> <span class="nx">self</span><span class="p">.</span><span class="nx">_pointsMedium</span><span class="p">,</span> <span class="s2">"pointsHard"</span><span class="o">:</span> <span class="nx">self</span><span class="p">.</span><span class="nx">_pointsHard</span><span class="p">}</span>

    <span class="err">#</span> 
    <span class="err">#</span> <span class="nx">Converts</span> <span class="nx">Leaderboard</span> <span class="nx">to</span> <span class="nx">string</span> <span class="nx">values</span>
    <span class="err">#</span>                
    <span class="nx">def</span> <span class="nx">__str__</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span><span class="o">:</span>
        <span class="k">return</span> <span class="nx">json</span><span class="p">.</span><span class="nx">dumps</span><span class="p">(</span><span class="nx">self</span><span class="p">.</span><span class="nx">read</span><span class="p">())</span>

    <span class="err">#</span> 
    <span class="err">#</span> <span class="nx">Creates</span> <span class="nx">Leaderboard</span> <span class="nx">database</span>
    <span class="err">#</span>                
    <span class="nx">def</span> <span class="nx">create</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span><span class="o">:</span>
        <span class="k">try</span><span class="o">:</span>
            <span class="nx">db</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span>
            <span class="nx">db</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">commit</span><span class="p">()</span>
            <span class="k">return</span> <span class="nx">self</span>
        <span class="nx">except</span> <span class="nx">IntegrityError</span><span class="o">:</span>
            <span class="nx">db</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">remove</span><span class="p">()</span>
            <span class="k">return</span> <span class="nx">None</span>
    <span class="err">#</span> 
    <span class="err">#</span> <span class="nx">Returns</span> <span class="nx">Leaderboard</span> <span class="nx">name</span> <span class="nx">value</span> <span class="nx">pairs</span>
    <span class="err">#</span>            
    <span class="nx">def</span> <span class="nx">read</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span><span class="o">:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">"id"</span><span class="o">:</span> <span class="nx">self</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span>
            <span class="s2">"username"</span><span class="o">:</span> <span class="nx">self</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span>
            <span class="s2">"password"</span><span class="o">:</span> <span class="nx">self</span><span class="p">.</span><span class="nx">uid</span><span class="p">,</span>
            <span class="s2">"pointsEasy"</span><span class="o">:</span> <span class="nx">self</span><span class="p">.</span><span class="nx">pointsEasy</span><span class="p">,</span>
            <span class="s2">"pointsMedium"</span><span class="o">:</span> <span class="nx">self</span><span class="p">.</span><span class="nx">pointsMedium</span><span class="p">,</span>
            <span class="s2">"pointsHard"</span><span class="o">:</span> <span class="nx">self</span><span class="p">.</span><span class="nx">pointsHard</span>
        <span class="p">}</span>

    <span class="err">#</span> 
    <span class="err">#</span> <span class="nx">Updates</span> <span class="nx">Leaderboard</span> <span class="nx">DB</span> <span class="nx">rows</span> <span class="k">for</span> <span class="nx">points</span> <span class="nx">and</span> <span class="nx">user</span> <span class="nx">data</span>
    <span class="err">#</span>                
    <span class="nx">def</span> <span class="nx">update</span><span class="p">(</span><span class="nx">self</span><span class="p">,</span> <span class="nx">username</span><span class="o">=</span><span class="s2">""</span><span class="p">,</span> <span class="nx">password</span><span class="o">=</span><span class="s2">""</span><span class="p">,</span> <span class="nx">pointsEasy</span><span class="o">=</span><span class="s2">""</span><span class="p">,</span> <span class="nx">pointsMedium</span><span class="o">=</span><span class="s2">""</span><span class="p">,</span> <span class="nx">pointsHard</span><span class="o">=</span><span class="s2">""</span><span class="p">)</span><span class="o">:</span>
        <span class="s2">"""only updates values with length"""</span>
        <span class="k">if</span> <span class="nx">len</span><span class="p">(</span><span class="nx">username</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0</span><span class="o">:</span>
            <span class="nx">self</span><span class="p">.</span><span class="nx">username</span> <span class="o">=</span> <span class="nx">username</span>
        <span class="k">if</span> <span class="nx">len</span><span class="p">(</span><span class="nx">pointsEasy</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0</span><span class="o">:</span>
            <span class="nx">self</span><span class="p">.</span><span class="nx">pointsEasy</span> <span class="o">=</span> <span class="nx">pointsEasy</span>
        <span class="k">if</span> <span class="nx">len</span><span class="p">(</span><span class="nx">pointsMedium</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0</span><span class="o">:</span>
            <span class="nx">self</span><span class="p">.</span><span class="nx">pointsMedium</span> <span class="o">=</span> <span class="nx">pointsMedium</span>
        <span class="k">if</span> <span class="nx">len</span><span class="p">(</span><span class="nx">pointsHard</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0</span><span class="o">:</span>
            <span class="nx">self</span><span class="p">.</span><span class="nx">pointsHard</span> <span class="o">=</span> <span class="nx">pointsHard</span>
        <span class="k">if</span> <span class="nx">len</span><span class="p">(</span><span class="nx">password</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0</span><span class="o">:</span>
            <span class="nx">self</span><span class="p">.</span><span class="nx">set_password</span><span class="p">(</span><span class="nx">password</span><span class="p">)</span>
        <span class="nx">db</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span>
        <span class="nx">db</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">commit</span><span class="p">()</span>
        <span class="k">return</span> <span class="nx">self</span>

    <span class="err">#</span> 
    <span class="err">#</span> <span class="nx">Delets</span> <span class="nx">Leaderboard</span> <span class="nx">row</span> <span class="nx">from</span> <span class="nx">teh</span> <span class="nx">DB</span>
    <span class="err">#</span>                
    <span class="nx">def</span> <span class="k">delete</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span><span class="o">:</span>
        <span class="nx">db</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span>
        <span class="nx">db</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">commit</span><span class="p">()</span>
        <span class="k">return</span> <span class="nx">None</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Initialization-of-Data">
<a class="anchor" href="#Initialization-of-Data" aria-hidden="true"><span class="octicon octicon-link"></span></a>Initialization of Data<a class="anchor-link" href="#Initialization-of-Data"> </a>
</h3>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-javascript"><pre><span></span><span class="err">#</span> <span class="nx">Initializes</span> <span class="nx">Leaderboard</span> <span class="nx">DB</span> <span class="kd">with</span> <span class="nx">test</span> <span class="nx">data</span>
<span class="err">#</span>   
<span class="nx">def</span> <span class="nx">init_leaderboards</span><span class="p">()</span><span class="o">:</span>
    <span class="kd">with</span> <span class="nx">app</span><span class="p">.</span><span class="nx">app_context</span><span class="p">()</span><span class="o">:</span>
        <span class="s2">"""Create database and tables"""</span>
        <span class="nx">db</span><span class="p">.</span><span class="nx">create_all</span><span class="p">()</span>
        <span class="s2">"""Tester data for table"""</span>
        <span class="nx">l1</span> <span class="o">=</span> <span class="nx">Leaderboard</span><span class="p">(</span><span class="nx">username</span><span class="o">=</span><span class="s2">"bob"</span><span class="p">,</span> <span class="nx">password</span><span class="o">=</span><span class="s2">"apple"</span><span class="p">,</span> <span class="nx">pointsEasy</span><span class="o">=</span><span class="mf">2</span><span class="p">,</span> <span class="nx">pointsMedium</span><span class="o">=</span><span class="mf">5</span><span class="p">,</span> <span class="nx">pointsHard</span><span class="o">=</span><span class="mf">3</span><span class="p">)</span>
        <span class="nx">l2</span> <span class="o">=</span> <span class="nx">Leaderboard</span><span class="p">(</span><span class="nx">username</span><span class="o">=</span><span class="s2">"bobby"</span><span class="p">,</span> <span class="nx">password</span><span class="o">=</span><span class="s2">"appley"</span><span class="p">,</span> <span class="nx">pointsEasy</span><span class="o">=</span><span class="mf">20</span><span class="p">,</span> <span class="nx">pointsMedium</span><span class="o">=</span><span class="mf">50</span><span class="p">,</span> <span class="nx">pointsHard</span><span class="o">=</span><span class="mf">30</span><span class="p">)</span>
        <span class="nx">l3</span> <span class="o">=</span> <span class="nx">Leaderboard</span><span class="p">(</span><span class="nx">username</span><span class="o">=</span><span class="s2">"bobbert"</span><span class="p">,</span> <span class="nx">password</span><span class="o">=</span><span class="s2">"appled"</span><span class="p">,</span> <span class="nx">pointsEasy</span><span class="o">=</span><span class="mf">200</span><span class="p">,</span> <span class="nx">pointsMedium</span><span class="o">=</span><span class="mf">500</span><span class="p">,</span> <span class="nx">pointsHard</span><span class="o">=</span><span class="mf">300</span><span class="p">)</span>
        <span class="nx">l4</span> <span class="o">=</span> <span class="nx">Leaderboard</span><span class="p">(</span><span class="nx">username</span><span class="o">=</span><span class="s2">"bobruth"</span><span class="p">,</span> <span class="nx">password</span><span class="o">=</span><span class="s2">"appler"</span><span class="p">,</span> <span class="nx">pointsEasy</span><span class="o">=</span><span class="mf">100</span><span class="p">,</span> <span class="nx">pointsMedium</span><span class="o">=</span><span class="mf">300</span><span class="p">,</span> <span class="nx">pointsHard</span><span class="o">=</span><span class="mf">500</span><span class="p">)</span>
        <span class="nx">leaderboards</span> <span class="o">=</span> <span class="p">[</span><span class="nx">l1</span><span class="p">,</span> <span class="nx">l2</span><span class="p">,</span> <span class="nx">l3</span><span class="p">,</span> <span class="nx">l4</span><span class="p">]</span>

        <span class="s2">"""Builds sample user/note(s) data"""</span>
        <span class="k">for</span> <span class="nx">l</span> <span class="k">in</span> <span class="nx">leaderboards</span><span class="o">:</span>
            <span class="k">try</span><span class="o">:</span>
                <span class="s1">'''add user to table'''</span>
                <span class="nx">object</span> <span class="o">=</span> <span class="nx">l</span><span class="p">.</span><span class="nx">create</span><span class="p">()</span>
                <span class="nx">print</span><span class="p">(</span><span class="nx">f</span><span class="s2">"Created new uid {object.username}"</span><span class="p">)</span>
                <span class="nx">db</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">l</span><span class="p">)</span>
                <span class="nx">db</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">commit</span><span class="p">()</span>
            <span class="nx">except</span><span class="o">:</span>
                <span class="s1">'''fails with bad or duplicate data'''</span>
                <span class="nx">print</span><span class="p">(</span><span class="nx">f</span><span class="s2">"Records exist uid {l.username}, or error."</span><span class="p">)</span>

<span class="nx">init_leaderboards</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Created new uid bob
Created new uid bobby
Created new uid bobbert
Created new uid bobruth
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="DO-THESE-FOR-THIS-SECTION">
<a class="anchor" href="#DO-THESE-FOR-THIS-SECTION" aria-hidden="true"><span class="octicon octicon-link"></span></a>DO THESE FOR THIS SECTION<a class="anchor-link" href="#DO-THESE-FOR-THIS-SECTION"> </a>
</h3>
<ul>
<li>fill in the blanks</li>
<li>add a new leaderboard, and edit the bobbert leaderboard; add proof with a screenshot of the sqlite.db</li>
<li>add a new set of keys and values to the leaderboard; add proof with a screenshot of the sqlite.db</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Picture-Database">
<a class="anchor" href="#Picture-Database" aria-hidden="true"><span class="octicon octicon-link"></span></a>Picture Database<a class="anchor-link" href="#Picture-Database"> </a>
</h2>
<ul>
<li><img src="https://user-images.githubusercontent.com/111910633/233181629-36a561c0-8ba5-4644-ac43-274c74a55dff.png" alt="image"></li>
<li>Used CRUD methods which have create, read, update, and delete rows in the table.  There is a function called initEasyImages which populates the 'Images' table with data.</li>
<li>The <strong>init</strong> method is used to create a new row in the table with a given imagePath, xCoord, yCoord, and difficulty. The <strong>repr</strong> method returns a string representation of the object when it is printed.</li>
<li>The table has five columns: id, _imagePath, _xCoord, _yCoord, and _difficulty.
<img src="https://user-images.githubusercontent.com/111910633/233180602-c81c1931-85a4-4d8e-b738-a091eb803d60.png" alt="image">
</li>
<li><img src="https://user-images.githubusercontent.com/111910633/233181071-4442d4c3-8c54-497f-b3bf-d625e6742c05.png" alt="image"></li>
<li>This part of the code defines getter and setter methods for the columns in the Images model.  It sets and retrieves the metadata of the image.</li>
<li><img src="https://user-images.githubusercontent.com/111910633/233181852-9daeed5a-6ab7-4d46-8069-8bcf390ea07a.png" alt="image"></li>
<li>The initEasyImages function initializes the database with image metadata for easy difficulty images.</li>
</ul>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-javascript"><pre><span></span><span class="nx">from</span> <span class="nx">sqlalchemy</span> <span class="kr">import</span> <span class="nx">Column</span><span class="p">,</span> <span class="nx">Integer</span><span class="p">,</span> <span class="nb">String</span><span class="p">,</span> <span class="nx">Text</span><span class="p">,</span> <span class="nx">LargeBinary</span>
<span class="nx">from</span> <span class="nx">sqlalchemy</span><span class="p">.</span><span class="nx">exc</span> <span class="kr">import</span> <span class="nx">IntegrityError</span>
<span class="nx">from</span> <span class="nx">pathlib</span> <span class="kr">import</span> <span class="nx">Path</span>

<span class="kr">class</span> <span class="nx">Images</span><span class="p">(</span><span class="nx">db</span><span class="p">.</span><span class="nx">Model</span><span class="p">)</span><span class="o">:</span>
    <span class="nx">__tablename__</span> <span class="o">=</span> <span class="s1">'images'</span>
    <span class="nx">id</span> <span class="o">=</span> <span class="nx">Column</span><span class="p">(</span><span class="nx">Integer</span><span class="p">,</span> <span class="nx">primary_key</span><span class="o">=</span><span class="nx">True</span><span class="p">)</span>
    <span class="nx">_imagePath</span> <span class="o">=</span> <span class="nx">Column</span><span class="p">(</span><span class="nx">Text</span><span class="p">,</span> <span class="nx">unique</span><span class="o">=</span><span class="nx">True</span><span class="p">,</span> <span class="nx">nullable</span><span class="o">=</span><span class="nx">False</span><span class="p">)</span>
    <span class="nx">_xCoord</span> <span class="o">=</span> <span class="nx">Column</span><span class="p">(</span><span class="nx">Integer</span><span class="p">,</span> <span class="nx">nullable</span><span class="o">=</span><span class="nx">False</span><span class="p">)</span>
    <span class="nx">_yCoord</span> <span class="o">=</span> <span class="nx">Column</span><span class="p">(</span><span class="nx">Integer</span><span class="p">,</span> <span class="nx">nullable</span><span class="o">=</span><span class="nx">False</span><span class="p">)</span>
    <span class="nx">_difficulty</span> <span class="o">=</span> <span class="nx">Column</span><span class="p">(</span><span class="nx">Integer</span><span class="p">,</span> <span class="nx">nullable</span><span class="o">=</span><span class="nx">False</span><span class="p">)</span>

    
    <span class="nx">def</span> <span class="nx">__init__</span><span class="p">(</span><span class="nx">self</span><span class="p">,</span> <span class="nx">imagePath</span><span class="p">,</span> <span class="nx">xCoord</span><span class="p">,</span> <span class="nx">yCoord</span><span class="p">,</span> <span class="nx">difficulty</span><span class="p">)</span><span class="o">:</span>
        <span class="nx">self</span><span class="p">.</span><span class="nx">_imagePath</span> <span class="o">=</span> <span class="nx">imagePath</span>
        <span class="nx">self</span><span class="p">.</span><span class="nx">xCoord</span> <span class="o">=</span> <span class="nx">xCoord</span>
        <span class="nx">self</span><span class="p">.</span><span class="nx">yCoord</span> <span class="o">=</span> <span class="nx">yCoord</span>
        <span class="nx">self</span><span class="p">.</span><span class="nx">difficulty</span> <span class="o">=</span> <span class="nx">difficulty</span>

    <span class="nx">def</span> <span class="nx">__repr__</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span><span class="o">:</span>
        <span class="k">return</span> <span class="s2">"&lt;image(id='%s', imagePath='%s', xCoord='%s', yCoord='%s', difficulty='%s')&gt;"</span> <span class="o">%</span> <span class="p">(</span>
            <span class="nx">self</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span>
            <span class="nx">self</span><span class="p">.</span><span class="nx">imagePath</span><span class="p">,</span>
            <span class="nx">self</span><span class="p">.</span><span class="nx">xCoord</span><span class="p">,</span>
            <span class="nx">self</span><span class="p">.</span><span class="nx">yCoord</span><span class="p">,</span>
            <span class="nx">self</span><span class="p">.</span><span class="nx">difficulty</span>
        <span class="p">)</span>
    <span class="err">@</span><span class="nx">property</span>
    <span class="nx">def</span> <span class="nx">imagePath</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span><span class="o">:</span>
        <span class="k">return</span> <span class="nx">self</span><span class="p">.</span><span class="nx">_imagePath</span>

    <span class="err">@</span><span class="nx">imagePath</span><span class="p">.</span><span class="nx">setter</span>
    <span class="nx">def</span> <span class="nx">imagePath</span><span class="p">(</span><span class="nx">self</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span><span class="o">:</span>
        <span class="nx">self</span><span class="p">.</span><span class="nx">_imagePath</span> <span class="o">=</span> <span class="nx">value</span>

    <span class="err">@</span><span class="nx">property</span>
    <span class="nx">def</span> <span class="nx">xCoord</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span><span class="o">:</span>
        <span class="k">return</span> <span class="nx">self</span><span class="p">.</span><span class="nx">_xCoord</span>

    <span class="err">@</span><span class="nx">xCoord</span><span class="p">.</span><span class="nx">setter</span>
    <span class="nx">def</span> <span class="nx">xCoord</span><span class="p">(</span><span class="nx">self</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span><span class="o">:</span>
        <span class="nx">self</span><span class="p">.</span><span class="nx">_xCoord</span> <span class="o">=</span> <span class="nx">value</span>

    <span class="err">@</span><span class="nx">property</span>
    <span class="nx">def</span> <span class="nx">yCoord</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span><span class="o">:</span>
        <span class="k">return</span> <span class="nx">self</span><span class="p">.</span><span class="nx">_yCoord</span>

    <span class="err">@</span><span class="nx">yCoord</span><span class="p">.</span><span class="nx">setter</span>
    <span class="nx">def</span> <span class="nx">yCoord</span><span class="p">(</span><span class="nx">self</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span><span class="o">:</span>
        <span class="nx">self</span><span class="p">.</span><span class="nx">_yCoord</span> <span class="o">=</span> <span class="nx">value</span>

    <span class="err">@</span><span class="nx">property</span>
    <span class="nx">def</span> <span class="nx">difficulty</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span><span class="o">:</span>
        <span class="k">return</span> <span class="nx">self</span><span class="p">.</span><span class="nx">_difficulty</span>

    <span class="err">@</span><span class="nx">difficulty</span><span class="p">.</span><span class="nx">setter</span>
    <span class="nx">def</span> <span class="nx">difficulty</span><span class="p">(</span><span class="nx">self</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span><span class="o">:</span>
        <span class="nx">self</span><span class="p">.</span><span class="nx">_difficulty</span> <span class="o">=</span> <span class="nx">value</span>

    <span class="nx">def</span> <span class="nx">to_dict</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span><span class="o">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">"id"</span><span class="o">:</span> <span class="nx">self</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="s2">"imagePath"</span><span class="o">:</span> <span class="nx">self</span><span class="p">.</span><span class="nx">_imagePath</span><span class="p">,</span> <span class="s2">"xCoord"</span><span class="o">:</span> <span class="nx">self</span><span class="p">.</span><span class="nx">_xCoord</span><span class="p">,</span> <span class="s2">"yCoord"</span><span class="o">:</span> <span class="nx">self</span><span class="p">.</span><span class="nx">_yCoord</span><span class="p">,</span> <span class="s2">"difficulty"</span><span class="o">:</span> <span class="nx">self</span><span class="p">.</span><span class="nx">_difficulty</span><span class="p">}</span>

    <span class="nx">def</span> <span class="nx">create</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span><span class="o">:</span>
        <span class="k">try</span><span class="o">:</span>
            <span class="err">#</span> <span class="nx">creates</span> <span class="nx">a</span> <span class="nx">person</span> <span class="nx">object</span> <span class="nx">from</span> <span class="nx">User</span><span class="p">(</span><span class="nx">db</span><span class="p">.</span><span class="nx">Model</span><span class="p">)</span> <span class="kr">class</span><span class="p">,</span> <span class="nx">passes</span> <span class="nx">initializers</span>
            <span class="nx">db</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span>  <span class="err">#</span> <span class="nx">add</span> <span class="nx">prepares</span> <span class="nx">to</span> <span class="nx">persist</span> <span class="nx">person</span> <span class="nx">object</span> <span class="nx">to</span> <span class="nx">Users</span> <span class="nx">table</span>
            <span class="nx">db</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">commit</span><span class="p">()</span>  <span class="err">#</span> <span class="nx">SqlAlchemy</span> <span class="s2">"unit of work pattern"</span> <span class="nx">requires</span> <span class="nx">a</span> <span class="nx">manual</span> <span class="nx">commit</span>
            <span class="k">return</span> <span class="nx">self</span>
        <span class="nx">except</span> <span class="nx">IntegrityError</span><span class="o">:</span>
            <span class="nx">db</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">remove</span><span class="p">()</span>
            <span class="k">return</span> <span class="nx">None</span>

    <span class="err">#</span> <span class="nx">CRUD</span> <span class="nx">read</span> <span class="nx">converts</span> <span class="nx">self</span> <span class="nx">to</span> <span class="nx">dictionary</span>
    <span class="err">#</span> <span class="nx">returns</span> <span class="nx">dictionary</span>
    <span class="nx">def</span> <span class="nx">read</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span><span class="o">:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">"path"</span><span class="o">:</span> <span class="nx">self</span><span class="p">.</span><span class="nx">imagePath</span><span class="p">,</span>
            <span class="s2">"xCoord"</span><span class="o">:</span> <span class="nx">self</span><span class="p">.</span><span class="nx">xCoord</span><span class="p">,</span>
            <span class="s2">"yCoord"</span><span class="o">:</span> <span class="nx">self</span><span class="p">.</span><span class="nx">yCoord</span><span class="p">,</span>
            <span class="s2">"difficulty"</span><span class="o">:</span> <span class="nx">self</span><span class="p">.</span><span class="nx">difficulty</span>
        <span class="p">}</span>

    <span class="err">#</span> <span class="nx">CRUD</span> <span class="nx">update</span><span class="o">:</span> <span class="nx">updates</span> <span class="nx">user</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">phone</span>
    <span class="err">#</span> <span class="nx">returns</span> <span class="nx">self</span>
    <span class="nx">def</span> <span class="nx">update</span><span class="p">(</span><span class="nx">self</span><span class="p">,</span> <span class="nx">path</span><span class="o">=</span><span class="s2">""</span><span class="p">,</span> <span class="nx">xCoord</span><span class="o">=</span><span class="s2">""</span><span class="p">,</span> <span class="nx">yCoord</span><span class="o">=</span><span class="s2">""</span><span class="p">,</span> <span class="nx">difficulty</span><span class="o">=</span><span class="s2">""</span><span class="p">)</span><span class="o">:</span>
        <span class="s2">"""only updates values with length"""</span>
        <span class="nx">xCoord</span> <span class="o">=</span> <span class="kr">int</span><span class="p">(</span><span class="nx">xCoord</span><span class="p">)</span>
        <span class="nx">yCoord</span> <span class="o">=</span> <span class="kr">int</span><span class="p">(</span><span class="nx">yCoord</span><span class="p">)</span>
        <span class="k">if</span> <span class="nx">path</span><span class="o">:</span>
            <span class="nx">self</span><span class="p">.</span><span class="nx">imagePath</span> <span class="o">=</span> <span class="nx">path</span>
        <span class="k">if</span> <span class="nx">xCoord</span> <span class="o">&gt;=</span> <span class="mf">0</span><span class="o">:</span>
            <span class="nx">self</span><span class="p">.</span><span class="nx">xCoord</span> <span class="o">=</span> <span class="nx">xCoord</span>
        <span class="k">if</span> <span class="nx">yCoord</span> <span class="o">&gt;=</span> <span class="mf">0</span><span class="o">:</span>
            <span class="nx">self</span><span class="p">.</span><span class="nx">yCoord</span> <span class="o">=</span> <span class="nx">yCoord</span>
        <span class="k">if</span> <span class="nx">difficulty</span> <span class="k">in</span> <span class="nx">range</span><span class="p">(</span><span class="mf">3</span><span class="p">)</span><span class="o">:</span>
            <span class="nx">self</span><span class="p">.</span><span class="nx">difficulty</span> <span class="o">=</span> <span class="nx">difficulty</span>
        <span class="nx">db</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">commit</span><span class="p">()</span>
        <span class="k">return</span> <span class="nx">self</span>


    <span class="nx">def</span> <span class="k">delete</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span><span class="o">:</span>
        <span class="nx">db</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span>
        <span class="nx">db</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">commit</span><span class="p">()</span>
        <span class="k">return</span> <span class="nx">None</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">InvalidRequestError</span>                       Traceback (most recent call last)
Cell <span class="ansi-green-fg">In[7], line 5</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span> from sqlalchemy.exc import IntegrityError
<span class="ansi-green-intense-fg ansi-bold">      3</span> from pathlib import Path
<span class="ansi-green-fg">----&gt; 5</span> class Images(db.Model):
<span class="ansi-green-intense-fg ansi-bold">      6</span>     __tablename__ = 'images'
<span class="ansi-green-intense-fg ansi-bold">      7</span>     id = Column(Integer, primary_key=True)

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/flask_sqlalchemy/model.py:100</span>, in <span class="ansi-cyan-fg">BindMetaMixin.__init__</span><span class="ansi-blue-fg">(cls, name, bases, d, **kwargs)</span>
<span class="ansi-green-intense-fg ansi-bold">     97</span>     if metadata is not parent_metadata:
<span class="ansi-green-intense-fg ansi-bold">     98</span>         cls.metadata = metadata
<span class="ansi-green-fg">--&gt; 100</span> super().__init__(name, bases, d, **kwargs)

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/flask_sqlalchemy/model.py:120</span>, in <span class="ansi-cyan-fg">NameMetaMixin.__init__</span><span class="ansi-blue-fg">(cls, name, bases, d, **kwargs)</span>
<span class="ansi-green-intense-fg ansi-bold">    117</span> if should_set_tablename(cls):
<span class="ansi-green-intense-fg ansi-bold">    118</span>     cls.__tablename__ = camel_to_snake_case(cls.__name__)
<span class="ansi-green-fg">--&gt; 120</span> super().__init__(name, bases, d, **kwargs)
<span class="ansi-green-intense-fg ansi-bold">    122</span> # __table_cls__ has run. If no table was created, use the parent table.
<span class="ansi-green-intense-fg ansi-bold">    123</span> if (
<span class="ansi-green-intense-fg ansi-bold">    124</span>     "__tablename__" not in cls.__dict__
<span class="ansi-green-intense-fg ansi-bold">    125</span>     and "__table__" in cls.__dict__
<span class="ansi-green-intense-fg ansi-bold">    126</span>     and cls.__dict__["__table__"] is None
<span class="ansi-green-intense-fg ansi-bold">    127</span> ):

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/orm/decl_api.py:199</span>, in <span class="ansi-cyan-fg">DeclarativeMeta.__init__</span><span class="ansi-blue-fg">(cls, classname, bases, dict_, **kw)</span>
<span class="ansi-green-intense-fg ansi-bold">    196</span>         cls._sa_registry = reg
<span class="ansi-green-intense-fg ansi-bold">    198</span> if not cls.__dict__.get("__abstract__", False):
<span class="ansi-green-fg">--&gt; 199</span>     _as_declarative(reg, cls, dict_)
<span class="ansi-green-intense-fg ansi-bold">    200</span> type.__init__(cls, classname, bases, dict_)

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/orm/decl_base.py:248</span>, in <span class="ansi-cyan-fg">_as_declarative</span><span class="ansi-blue-fg">(registry, cls, dict_)</span>
<span class="ansi-green-intense-fg ansi-bold">    242</span> def _as_declarative(
<span class="ansi-green-intense-fg ansi-bold">    243</span>     registry: _RegistryType, cls: Type[Any], dict_: _ClassDict
<span class="ansi-green-intense-fg ansi-bold">    244</span> ) -&gt; Optional[_MapperConfig]:
<span class="ansi-green-intense-fg ansi-bold">    245</span> 
<span class="ansi-green-intense-fg ansi-bold">    246</span>     # declarative scans the class for attributes.  no table or mapper
<span class="ansi-green-intense-fg ansi-bold">    247</span>     # args passed separately.
<span class="ansi-green-fg">--&gt; 248</span>     return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/orm/decl_base.py:329</span>, in <span class="ansi-cyan-fg">_MapperConfig.setup_mapping</span><span class="ansi-blue-fg">(cls, registry, cls_, dict_, table, mapper_kw)</span>
<span class="ansi-green-intense-fg ansi-bold">    325</span>     return _DeferredMapperConfig(
<span class="ansi-green-intense-fg ansi-bold">    326</span>         registry, cls_, dict_, table, mapper_kw
<span class="ansi-green-intense-fg ansi-bold">    327</span>     )
<span class="ansi-green-intense-fg ansi-bold">    328</span> else:
<span class="ansi-green-fg">--&gt; 329</span>     return _ClassScanMapperConfig(
<span class="ansi-green-intense-fg ansi-bold">    330</span>         registry, cls_, dict_, table, mapper_kw
<span class="ansi-green-intense-fg ansi-bold">    331</span>     )

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/orm/decl_base.py:579</span>, in <span class="ansi-cyan-fg">_ClassScanMapperConfig.__init__</span><span class="ansi-blue-fg">(self, registry, cls_, dict_, table, mapper_kw)</span>
<span class="ansi-green-intense-fg ansi-bold">    575</span> self._extract_mappable_attributes()
<span class="ansi-green-intense-fg ansi-bold">    577</span> self._extract_declared_columns()
<span class="ansi-green-fg">--&gt; 579</span> self._setup_table(table)
<span class="ansi-green-intense-fg ansi-bold">    581</span> self._setup_inheriting_columns(mapper_kw)
<span class="ansi-green-intense-fg ansi-bold">    583</span> self._early_mapping(mapper_kw)

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/orm/decl_base.py:1729</span>, in <span class="ansi-cyan-fg">_ClassScanMapperConfig._setup_table</span><span class="ansi-blue-fg">(self, table)</span>
<span class="ansi-green-intense-fg ansi-bold">   1721</span>             table_kw["autoload"] = True
<span class="ansi-green-intense-fg ansi-bold">   1723</span>         sorted_columns = sorted(
<span class="ansi-green-intense-fg ansi-bold">   1724</span>             declared_columns,
<span class="ansi-green-intense-fg ansi-bold">   1725</span>             key=lambda c: column_ordering.get(c, 0),
<span class="ansi-green-intense-fg ansi-bold">   1726</span>         )
<span class="ansi-green-intense-fg ansi-bold">   1727</span>         table = self.set_cls_attribute(
<span class="ansi-green-intense-fg ansi-bold">   1728</span>             "__table__",
<span class="ansi-green-fg">-&gt; 1729</span>             table_cls(
<span class="ansi-green-intense-fg ansi-bold">   1730</span>                 tablename,
<span class="ansi-green-intense-fg ansi-bold">   1731</span>                 self._metadata_for_cls(manager),
<span class="ansi-green-intense-fg ansi-bold">   1732</span>                 *sorted_columns,
<span class="ansi-green-intense-fg ansi-bold">   1733</span>                 *args,
<span class="ansi-green-intense-fg ansi-bold">   1734</span>                 **table_kw,
<span class="ansi-green-intense-fg ansi-bold">   1735</span>             ),
<span class="ansi-green-intense-fg ansi-bold">   1736</span>         )
<span class="ansi-green-intense-fg ansi-bold">   1737</span> else:
<span class="ansi-green-intense-fg ansi-bold">   1738</span>     if table is None:

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/flask_sqlalchemy/model.py:147</span>, in <span class="ansi-cyan-fg">NameMetaMixin.__table_cls__</span><span class="ansi-blue-fg">(cls, *args, **kwargs)</span>
<span class="ansi-green-intense-fg ansi-bold">    144</span> # Check if a table with this name already exists. Allows reflected tables to be
<span class="ansi-green-intense-fg ansi-bold">    145</span> # applied to models by name.
<span class="ansi-green-intense-fg ansi-bold">    146</span> if key in cls.metadata.tables:
<span class="ansi-green-fg">--&gt; 147</span>     return sa.Table(*args, **kwargs)
<span class="ansi-green-intense-fg ansi-bold">    149</span> # If a primary key is found, create a table for joined-table inheritance.
<span class="ansi-green-intense-fg ansi-bold">    150</span> for arg in args:

File <span class="ansi-green-fg">&lt;string&gt;:2</span>, in <span class="ansi-cyan-fg">__new__</span><span class="ansi-blue-fg">(cls, *args, **kw)</span>

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/util/deprecations.py:277</span>, in <span class="ansi-cyan-fg">deprecated_params.&lt;locals&gt;.decorate.&lt;locals&gt;.warned</span><span class="ansi-blue-fg">(fn, *args, **kwargs)</span>
<span class="ansi-green-intense-fg ansi-bold">    270</span>     if m in kwargs:
<span class="ansi-green-intense-fg ansi-bold">    271</span>         _warn_with_version(
<span class="ansi-green-intense-fg ansi-bold">    272</span>             messages[m],
<span class="ansi-green-intense-fg ansi-bold">    273</span>             versions[m],
<span class="ansi-green-intense-fg ansi-bold">    274</span>             version_warnings[m],
<span class="ansi-green-intense-fg ansi-bold">    275</span>             stacklevel=3,
<span class="ansi-green-intense-fg ansi-bold">    276</span>         )
<span class="ansi-green-fg">--&gt; 277</span> return fn(*args, **kwargs)

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/sql/schema.py:428</span>, in <span class="ansi-cyan-fg">Table.__new__</span><span class="ansi-blue-fg">(cls, *args, **kw)</span>
<span class="ansi-green-intense-fg ansi-bold">    421</span> @util.deprecated_params(
<span class="ansi-green-intense-fg ansi-bold">    422</span>     mustexist=(
<span class="ansi-green-intense-fg ansi-bold">    423</span>         "1.4",
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-intense-fg ansi-bold">    426</span> )
<span class="ansi-green-intense-fg ansi-bold">    427</span> def __new__(cls, *args: Any, **kw: Any) -&gt; Any:
<span class="ansi-green-fg">--&gt; 428</span>     return cls._new(*args, **kw)

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/sql/schema.py:460</span>, in <span class="ansi-cyan-fg">Table._new</span><span class="ansi-blue-fg">(cls, *args, **kw)</span>
<span class="ansi-green-intense-fg ansi-bold">    458</span> if key in metadata.tables:
<span class="ansi-green-intense-fg ansi-bold">    459</span>     if not keep_existing and not extend_existing and bool(args):
<span class="ansi-green-fg">--&gt; 460</span>         raise exc.InvalidRequestError(
<span class="ansi-green-intense-fg ansi-bold">    461</span>             "Table '%s' is already defined for this MetaData "
<span class="ansi-green-intense-fg ansi-bold">    462</span>             "instance.  Specify 'extend_existing=True' "
<span class="ansi-green-intense-fg ansi-bold">    463</span>             "to redefine "
<span class="ansi-green-intense-fg ansi-bold">    464</span>             "options and columns on an "
<span class="ansi-green-intense-fg ansi-bold">    465</span>             "existing Table object." % key
<span class="ansi-green-intense-fg ansi-bold">    466</span>         )
<span class="ansi-green-intense-fg ansi-bold">    467</span>     table = metadata.tables[key]
<span class="ansi-green-intense-fg ansi-bold">    468</span>     if extend_existing:

<span class="ansi-red-fg">InvalidRequestError</span>: Table 'images' is already defined for this MetaData instance.  Specify 'extend_existing=True' to redefine options and columns on an existing Table object.</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-javascript"><pre><span></span><span class="nx">def</span> <span class="nx">initEasyImages</span><span class="p">()</span><span class="o">:</span>
    <span class="kd">with</span> <span class="nx">app</span><span class="p">.</span><span class="nx">app_context</span><span class="p">()</span><span class="o">:</span>
        <span class="nx">db</span><span class="p">.</span><span class="nx">create_all</span><span class="p">()</span>
        <span class="nx">image_dir</span> <span class="o">=</span> <span class="nx">Path</span><span class="p">.</span><span class="nx">cwd</span><span class="p">()</span><span class="o">/</span><span class="s2">"images/easy"</span>
        <span class="nx">images_paths</span> <span class="o">=</span> <span class="p">[</span><span class="nx">i</span><span class="p">.</span><span class="nx">name</span> <span class="k">for</span> <span class="nx">i</span> <span class="k">in</span> <span class="nx">image_dir</span><span class="p">.</span><span class="nx">iterdir</span><span class="p">()]</span>
        <span class="nx">images</span> <span class="o">=</span> <span class="p">[</span><span class="nx">Images</span><span class="p">(</span><span class="s2">"images/easy/"</span> <span class="o">+</span> <span class="nx">image</span><span class="p">,</span> <span class="mf">250</span><span class="p">,</span> <span class="mf">250</span><span class="p">,</span> <span class="mf">0</span><span class="p">)</span> <span class="k">for</span> <span class="nx">image</span> <span class="k">in</span> <span class="nx">images_paths</span><span class="p">]</span>
        <span class="k">for</span> <span class="nx">image</span> <span class="k">in</span> <span class="nx">images</span><span class="o">:</span>
             <span class="k">try</span><span class="o">:</span>
                <span class="nx">image</span><span class="p">.</span><span class="nx">create</span><span class="p">()</span>
                <span class="nx">print</span><span class="p">(</span><span class="s2">"Successfully added entry"</span><span class="p">)</span>
             <span class="nx">except</span><span class="o">:</span>
                 <span class="nx">db</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">remove</span><span class="p">()</span>
                 <span class="nx">print</span><span class="p">(</span><span class="s2">"Error adding image: "</span><span class="p">,</span> <span class="nx">image</span><span class="p">.</span><span class="nx">imagePath</span><span class="p">)</span>

<span class="nx">initEasyImages</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Successfully added entry
Successfully added entry
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Popcorn-Hacks">
<a class="anchor" href="#Popcorn-Hacks" aria-hidden="true"><span class="octicon octicon-link"></span></a>Popcorn Hacks<a class="anchor-link" href="#Popcorn-Hacks"> </a>
</h4>
<ul>
<li>The init method initializes a new Images object with the following parameters: imagePath, xCoord, yCoord, and difficulty.</li>
<li>In the Images class, the tablename attribute specifies the name of the table.</li>
<li>The update method updates the values of the object's attributes imagePath, xCoord, yCoord, and difficulty based on the input parameters, and then uses the db.session.commit method to commt or push the changes to the database.</li>
<li>The db module used in this code is part of a larger library called SQLAlchemy, which provides a set of tools for working with databases in Python.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Picture-Encoding">
<a class="anchor" href="#Picture-Encoding" aria-hidden="true"><span class="octicon octicon-link"></span></a>Picture Encoding<a class="anchor-link" href="#Picture-Encoding"> </a>
</h2>
<p><strong>Essential Question: What are some methods that we could store and access images in the backend, and how can we send them to a frontend application?</strong></p>
<p>The image encoding process for this project is done within the endpoints created on our backend application. The overarching process is split into three seperate sub-processes, each handling a different level of game-difficulty. For this lesson, we will look at the easy images sub-process as our example.</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_random_easy_image</span><span class="p">():</span>
    <span class="n">images</span> <span class="o">=</span> <span class="n">Images</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">filter_by</span><span class="p">(</span><span class="n">_difficulty</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="n">image</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">images</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">image</span>
</pre></div>
<p>This procedure is a void function that takes in no arguments directly, but does access the database via the <code>Images</code> object imported from the models that we created</p>
<p>The first line filters all database entries and searches for all image entries with the difficulty column set to 0, which we established as the identifying factor for easy images. The <code>.all()</code> method attached to the end of the query serves to return all matching image objects in a list called <code>image</code>.</p>
<p>The procedure finally returns a random image using the <code>random.choice</code> method.</p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">ImagesAPI</span><span class="p">:</span>
    <span class="k">class</span> <span class="nc">_EasyImages</span><span class="p">(</span><span class="n">Resource</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="n">image</span> <span class="o">=</span> <span class="n">get_random_easy_image</span><span class="p">()</span>
            <span class="n">json_data</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">if</span> <span class="n">image</span><span class="p">:</span>
                <span class="n">image_path</span> <span class="o">=</span> <span class="n">project_path</span> <span class="o">+</span> <span class="s2">"/"</span> <span class="o">+</span> <span class="n">image</span><span class="o">.</span><span class="n">imagePath</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">image_path</span><span class="p">,</span> <span class="s2">"rb"</span><span class="p">)</span> <span class="k">as</span> <span class="n">image_file</span><span class="p">:</span>
                    <span class="n">json_data</span><span class="p">[</span><span class="s2">"bytes"</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">image_file</span><span class="o">.</span><span class="n">read</span><span class="p">()))[</span><span class="mi">2</span><span class="p">:][:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">json_data</span><span class="p">[</span><span class="s2">"xCoord"</span><span class="p">]</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">xCoord</span>
                <span class="n">json_data</span><span class="p">[</span><span class="s2">"yCoord"</span><span class="p">]</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">yCoord</span>
            <span class="k">return</span> <span class="n">jsonify</span><span class="p">(</span><span class="n">json_data</span><span class="p">)</span>
</pre></div>
<p>If the first procedure locates and selects the image, the second procedure then encodes, formats, and returns the JSON data containing the image and its metadata.</p>
<p>The procedure first calls the <code>get_random_easy_image()</code> procedure created earlier to store our image object and also initializes an empty dictionary to store our json data.</p>
<p>If a valid image object is found, the procedure will attempt to create an absolute path to the image file on the computer running flask application. This is achieved by concatenating the absolute path of the working project directory to the relative image path stored in the database. The aboslute path of the directory is generated in our <em>namespace package</em> (__init__.py) in our _nighthawkguessr_api_ package. The line calculating the project path is shown below, and uses the <code>Path</code> object from the <code>pathlib</code> library.</p>
<div class="highlight"><pre><span></span><span class="n">project_path</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span>
</pre></div>
<p>After creating the image path, the procedure attempts to open the image file, and procedes to use the <code>base64.b64encode</code> method to encode the image file bytes into base64 data. This is convinient for us as HTML on the frontend pages allows us to render images with base64 bytes (Not sure about normal image bytes). The base64 bytes are then encoded into a python literal string in order to be jsonified and displayed on the api endpoint. The <code>[2:][:-1]</code> appended to the end is a type of string slicing which removes the <strong>b'</strong> generated at the start of the data and the <strong>'</strong> generated at the end of the data. These extraneous characters are used to indicate a base64 string, and are not part of the original data.</p>
<p>The procedure finally appends the metadata (position of the right coordinates on the map) to the <code>json_data</code> dictionary, completing the process.</p>
<p>Finally, the procedure returns the JSONified data, which is accessible from our API. As you can see, the images we process are extremely large and possess high resolution (typically a few megabytes!)
<img src="https://user-images.githubusercontent.com/111480448/234923845-98d21dea-ad65-48db-bae5-30819fb1f98b.png" alt='"API endpoint"'></p>
<h3 id="Popcorn-Hack:">
<a class="anchor" href="#Popcorn-Hack:" aria-hidden="true"><span class="octicon octicon-link"></span></a>Popcorn Hack:<a class="anchor-link" href="#Popcorn-Hack:"> </a>
</h3>
<blockquote>
<p>Please write a few sentences answering the essential question, "What are some methods that we could store and access images in the backend, and how can we send them to a frontend application?"</p>
</blockquote>
<ul>
<li>One popular method is to encode the image data to text, like base64, which is then put onto a database later to be accessed, decoded, and then the data of the image can be displayed on a browser or downloaded.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Endpoints">
<a class="anchor" href="#Endpoints" aria-hidden="true"><span class="octicon octicon-link"></span></a>Endpoints<a class="anchor-link" href="#Endpoints"> </a>
</h2>
<blockquote>
<p>What are endpoints and how do we use them to transfer data from one part of the internet to another?</p>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Backend:">
<a class="anchor" href="#Backend:" aria-hidden="true"><span class="octicon octicon-link"></span></a>Backend:<a class="anchor-link" href="#Backend:"> </a>
</h3>
<ul>
<li>The backend creates endpoints that are used to edit the properties of the database constructed by the model.</li>
<li>
<code>____</code>, <code>____</code>, <code>____</code>, and <code>____</code> methods are used in order to define HTTP endpoints in the API.<ul>
<li>These endpoints are based on requests that can be made to <em>__</em> the database.</li>
<li>Variables defined in the <em>__</em> file are used to call data from the database in order to be manipulated.</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Methods-in-Backend-Example">
<a class="anchor" href="#Methods-in-Backend-Example" aria-hidden="true"><span class="octicon octicon-link"></span></a>Methods in Backend Example<a class="anchor-link" href="#Methods-in-Backend-Example"> </a>
</h3>
<ul>
<li>Modules are being imported with specified classes which are used later in the program.<ul>
<li>
<code>Blueprint</code>: used to organize routes and functions</li>
<li>
<code>request</code>: used to access data sent to the Flask app. through the HTTP request</li>
<li>
<code>Api</code>: creates a Flask instance that handles requests</li>
<li>
<code>Resource</code>: this allows for the definition of custom HTTP requests</li>
<li>
<code>reqparse</code>: used to parse (sort and search) and validate data that is requested</li>
</ul>
</li>
<li>The blueprint and api are then defined as variables and are used to store any future data that is requested.</li>
<li>Some preliminary functions, such as <code>find_by_username</code>, are created to be used later in the API code, allowing for simpler code.<ul>
<li>In this case, these functions are used to search through the database to find specific usernames.</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-javascript"><pre><span></span><span class="nx">from</span> <span class="nx">flask</span> <span class="kr">import</span> <span class="nx">Blueprint</span><span class="p">,</span> <span class="nx">request</span>
<span class="nx">from</span> <span class="nx">flask_restful</span> <span class="kr">import</span> <span class="nx">Api</span><span class="p">,</span> <span class="nx">Resource</span><span class="p">,</span> <span class="nx">reqparse</span>

<span class="err">#</span> <span class="nx">setting</span> <span class="nx">variables</span> <span class="nx">used</span> <span class="nx">to</span> <span class="nx">store</span> <span class="nx">future</span> <span class="nx">data</span>
<span class="nx">leaderboard_bp</span> <span class="o">=</span> <span class="nx">Blueprint</span><span class="p">(</span><span class="s2">"leaderboards"</span><span class="p">,</span> <span class="nx">__name__</span><span class="p">)</span>
<span class="nx">leaderboard_api</span> <span class="o">=</span> <span class="nx">Api</span><span class="p">(</span><span class="nx">leaderboard_bp</span><span class="p">)</span>

<span class="err">#</span> <span class="nx">pre</span><span class="o">-</span><span class="nx">made</span> <span class="kd">function</span> <span class="nx">created</span> <span class="nx">to</span> <span class="nx">search</span> <span class="k">for</span> <span class="nx">usernames</span><span class="p">,</span> <span class="nx">allows</span> <span class="k">for</span> <span class="nx">simplified</span> <span class="nx">program</span>
<span class="nx">def</span> <span class="nx">find_by_username</span><span class="p">(</span><span class="nx">username</span><span class="p">)</span><span class="o">:</span>
    <span class="nx">users</span> <span class="o">=</span> <span class="nx">Leaderboard</span><span class="p">.</span><span class="nx">query</span><span class="p">.</span><span class="nx">filter_by</span><span class="p">(</span><span class="nx">_username</span><span class="o">=</span><span class="nx">username</span><span class="p">).</span><span class="nx">all</span><span class="p">()</span>
    <span class="k">return</span> <span class="nx">users</span><span class="p">[</span><span class="mf">0</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="GET-Method">
<a class="anchor" href="#GET-Method" aria-hidden="true"><span class="octicon octicon-link"></span></a>GET Method<a class="anchor-link" href="#GET-Method"> </a>
</h4>
<ul>
<li>This method is used to fetch specific data points from the database by searching through the usernames.</li>
<li>This will be different for each type of database being made, however the general format stays the same.<ul>
<li>Since this is a text database, to pull specific information from the database, the API will query through the data using the username, which is unique.</li>
<li>The function defined previously, <code>find_by_username()</code>, is used to search through the database and pull the specific data point that is being searched.</li>
<li>If the user exists, the data of that user will be returned, being sent to the frontend of the program.</li>
<li>If a user isn't found, an error will be returned that the user does not exist.
<br>
<br>
</li>
</ul>
</li>
<li>In general, the program will always be searching for a piece of information that is unique and that will be used to pull data to wherever it is being requested.</li>
</ul>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-javascript"><pre><span></span><span class="nx">def</span> <span class="nx">get</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span><span class="o">:</span>
        <span class="err">#</span> <span class="nx">requested</span> <span class="nx">username</span> <span class="nx">turned</span> <span class="nx">into</span> <span class="nx">variable</span> <span class="k">for</span> <span class="nx">later</span> <span class="nx">use</span>
        <span class="nx">username</span> <span class="o">=</span> <span class="nx">request</span><span class="p">.</span><span class="nx">get_json</span><span class="p">().</span><span class="nx">get</span><span class="p">(</span><span class="s2">"username"</span><span class="p">)</span>
        <span class="nx">print</span><span class="p">(</span><span class="nx">username</span><span class="p">,</span> <span class="s2">"uid"</span><span class="p">)</span>
        <span class="err">#</span> <span class="nx">username</span> <span class="nx">used</span> <span class="nx">to</span> <span class="nx">search</span> <span class="k">for</span> <span class="nx">data</span> <span class="nx">and</span> <span class="nx">the</span> <span class="nx">found</span> <span class="nx">data</span> <span class="nx">is</span> <span class="nx">made</span> <span class="nx">into</span> <span class="nx">a</span> <span class="nx">variable</span>
        <span class="nx">user</span> <span class="o">=</span> <span class="nx">find_by_username</span><span class="p">(</span><span class="nx">username</span><span class="p">)</span>
        <span class="k">if</span> <span class="nx">user</span><span class="o">:</span>
            <span class="err">#</span> <span class="nx">data</span> <span class="nx">is</span> <span class="nx">sent</span> <span class="nx">to</span> <span class="nx">the</span> <span class="nx">frontend</span>
            <span class="k">return</span> <span class="nx">user</span><span class="p">.</span><span class="nx">to_dict</span><span class="p">()</span>
        <span class="err">#</span> <span class="nx">error</span> <span class="nx">checking</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">"message"</span><span class="o">:</span> <span class="nx">user</span><span class="p">},</span> <span class="mf">404</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="POST-Method">
<a class="anchor" href="#POST-Method" aria-hidden="true"><span class="octicon octicon-link"></span></a>POST Method<a class="anchor-link" href="#POST-Method"> </a>
</h4>
<ul>
<li>This method is used to add a specific piece of information in the database based on searching by usernames.</li>
<li>This is again different for each database that is made, however the general structure stays the same.<ul>
<li>In this example, a parser is being used to extract data from an incoming request. In this case, the <code>RequestParser</code> class is used from the Flask module.<ul>
<li>All required arguments are added to the parser, specifying what type of data it is.</li>
<li>The <code>agrs</code> variable is added in order to parse and store all incoming data.</li>
</ul>
</li>
<li>The variable <code>leaderboard</code> is created to make a new object that will contain the values from the incoming data.</li>
<li>The function will attempt to add a new entry in the leaderboard database and return a status of a successful addition of the data.</li>
<li>If there is an error in the data being inputted, a status code of 500 will be returned.</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-javascript"><pre><span></span><span class="nx">def</span> <span class="nx">post</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span><span class="o">:</span>
        <span class="err">#</span> <span class="nx">using</span> <span class="nx">parsers</span> <span class="nx">to</span> <span class="nx">gather</span> <span class="nx">and</span> <span class="nx">data</span> <span class="nx">that</span> <span class="nx">is</span> <span class="nx">to</span> <span class="nx">be</span> <span class="nx">posted</span> <span class="nx">and</span> <span class="nx">validate</span> <span class="nx">it</span><span class="err">'</span><span class="nx">s</span> <span class="kc">true</span>
        <span class="nx">parser</span> <span class="o">=</span> <span class="nx">reqparse</span><span class="p">.</span><span class="nx">RequestParser</span><span class="p">()</span>
        <span class="nx">parser</span><span class="p">.</span><span class="nx">add_argument</span><span class="p">(</span><span class="s2">"username"</span><span class="p">,</span> <span class="nx">required</span><span class="o">=</span><span class="nx">True</span><span class="p">,</span> <span class="nx">type</span><span class="o">=</span><span class="nx">str</span><span class="p">)</span>
        <span class="nx">parser</span><span class="p">.</span><span class="nx">add_argument</span><span class="p">(</span><span class="s2">"password"</span><span class="p">,</span> <span class="nx">required</span><span class="o">=</span><span class="nx">True</span><span class="p">,</span> <span class="nx">type</span><span class="o">=</span><span class="nx">str</span><span class="p">)</span>
        <span class="nx">parser</span><span class="p">.</span><span class="nx">add_argument</span><span class="p">(</span><span class="s2">"pointsEasy"</span><span class="p">,</span> <span class="nx">required</span><span class="o">=</span><span class="nx">True</span><span class="p">,</span> <span class="nx">type</span><span class="o">=</span><span class="kr">int</span><span class="p">)</span>
        <span class="nx">parser</span><span class="p">.</span><span class="nx">add_argument</span><span class="p">(</span><span class="s2">"pointsMedium"</span><span class="p">,</span> <span class="nx">required</span><span class="o">=</span><span class="nx">True</span><span class="p">,</span> <span class="nx">type</span><span class="o">=</span><span class="kr">int</span><span class="p">)</span>
        <span class="nx">parser</span><span class="p">.</span><span class="nx">add_argument</span><span class="p">(</span><span class="s2">"pointsHard"</span><span class="p">,</span> <span class="nx">required</span><span class="o">=</span><span class="nx">True</span><span class="p">,</span> <span class="nx">type</span><span class="o">=</span><span class="kr">int</span><span class="p">)</span>
        <span class="err">#</span> <span class="nx">variable</span> <span class="nx">made</span> <span class="nx">to</span> <span class="nx">store</span> <span class="nx">data</span>
        <span class="nx">args</span> <span class="o">=</span> <span class="nx">parser</span><span class="p">.</span><span class="nx">parse_args</span><span class="p">()</span>

        <span class="err">#</span> <span class="nx">variable</span> <span class="nx">created</span> <span class="nx">to</span> <span class="nx">format</span> <span class="nx">all</span> <span class="nx">data</span> <span class="nx">into</span> <span class="nx">one</span> <span class="nx">place</span> <span class="nx">and</span> <span class="nx">send</span> <span class="nx">to</span> <span class="nx">database</span> <span class="k">for</span> <span class="nx">logging</span>
        <span class="nx">leaderboard</span> <span class="o">=</span> <span class="nx">Leaderboard</span><span class="p">(</span><span class="nx">args</span><span class="p">[</span><span class="s2">"username"</span><span class="p">],</span> <span class="nx">args</span><span class="p">[</span><span class="s2">"password"</span><span class="p">],</span>
                                  <span class="nx">args</span><span class="p">[</span><span class="s2">"pointsEasy"</span><span class="p">],</span> <span class="nx">args</span><span class="p">[</span><span class="s2">"pointsMedium"</span><span class="p">],</span> <span class="nx">args</span><span class="p">[</span><span class="s2">"pointsHard"</span><span class="p">])</span>
        <span class="k">try</span><span class="o">:</span>
            <span class="err">#</span> <span class="nx">data</span> <span class="nx">is</span> <span class="nx">sent</span> <span class="nx">to</span> <span class="nx">the</span> <span class="nx">database</span> <span class="k">for</span> <span class="nx">storage</span>
            <span class="nx">db</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">leaderboard</span><span class="p">)</span>
            <span class="nx">db</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">commit</span><span class="p">()</span>
            <span class="k">return</span> <span class="nx">leaderboard</span><span class="p">.</span><span class="nx">to_dict</span><span class="p">(),</span> <span class="mf">201</span>
        <span class="nx">except</span> <span class="nx">Exception</span> <span class="nx">as</span> <span class="nx">e</span><span class="o">:</span>
            <span class="err">#</span> <span class="nx">error</span> <span class="nx">checking</span>
            <span class="nx">db</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">rollback</span><span class="p">()</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">"message"</span><span class="o">:</span> <span class="nx">f</span><span class="s2">"server error: {e}"</span><span class="p">},</span> <span class="mf">500</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="PUT-Method">
<a class="anchor" href="#PUT-Method" aria-hidden="true"><span class="octicon octicon-link"></span></a>PUT Method<a class="anchor-link" href="#PUT-Method"> </a>
</h4>
<ul>
<li>This method is used to update a specific piece of information in the database based on searching by usernames.</li>
<li>For each data base that is made, there will be different specific but the overall structure stays the same.<ul>
<li>First, the <code>username</code> variable is defined, which retrieves the requested username and sets it as a variable that will be used later to edit a specific dataset.</li>
<li>The function <code>find_by_username()</code> is again used to search through the data to look for the username requested. This is set to a variable to be used later.</li>
<li>If the username is found in the database, the rest of the dataset is updated with the new values requested. This is updated into the database.</li>
<li>If there is an error found with the data requested of it the user isn't found, an error is returned.</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-javascript"><pre><span></span><span class="nx">def</span> <span class="nx">put</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span><span class="o">:</span>
        <span class="err">#</span> <span class="nx">variable</span> <span class="nx">created</span> <span class="nx">to</span> <span class="nx">make</span> <span class="nx">requested</span> <span class="nx">username</span> <span class="nx">into</span> <span class="nx">something</span> <span class="nx">that</span> <span class="nx">can</span> <span class="nx">be</span> <span class="nx">used</span> <span class="nx">to</span> <span class="nx">search</span> <span class="k">for</span> <span class="nx">data</span> <span class="k">in</span> <span class="nx">future</span>
        <span class="nx">username</span> <span class="o">=</span> <span class="nx">request</span><span class="p">.</span><span class="nx">get_json</span><span class="p">().</span><span class="nx">get</span><span class="p">(</span><span class="s2">"username"</span><span class="p">)</span>
        <span class="nx">print</span><span class="p">(</span><span class="nx">username</span><span class="p">,</span> <span class="s2">"uid"</span><span class="p">)</span>

        <span class="k">try</span><span class="o">:</span>
            <span class="err">#</span> <span class="nx">attempts</span> <span class="nx">to</span> <span class="nx">find</span> <span class="nx">the</span> <span class="nx">data</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">database</span>
            <span class="nx">user</span> <span class="o">=</span> <span class="nx">find_by_username</span><span class="p">(</span><span class="nx">username</span><span class="p">)</span>
            <span class="k">if</span> <span class="nx">user</span><span class="o">:</span>
                <span class="err">#</span> <span class="k">if</span> <span class="nx">the</span> <span class="nx">data</span> <span class="nx">is</span> <span class="nx">found</span><span class="p">,</span> <span class="nx">the</span> <span class="nx">data</span> <span class="nx">points</span> <span class="nx">are</span> <span class="nx">updates</span>
                <span class="nx">user</span><span class="p">.</span><span class="nx">pointsEasy</span> <span class="o">=</span> <span class="kr">int</span><span class="p">(</span><span class="nx">request</span><span class="p">.</span><span class="nx">get_json</span><span class="p">().</span><span class="nx">get</span><span class="p">(</span><span class="s2">"pointsEasy"</span><span class="p">))</span>
                <span class="nx">user</span><span class="p">.</span><span class="nx">pointsMedium</span> <span class="o">=</span> <span class="kr">int</span><span class="p">(</span><span class="nx">request</span><span class="p">.</span><span class="nx">get_json</span><span class="p">().</span><span class="nx">get</span><span class="p">(</span><span class="s2">"pointsMedium"</span><span class="p">))</span>
                <span class="nx">user</span><span class="p">.</span><span class="nx">pointsHard</span> <span class="o">=</span> <span class="kr">int</span><span class="p">(</span><span class="nx">request</span><span class="p">.</span><span class="nx">get_json</span><span class="p">().</span><span class="nx">get</span><span class="p">(</span><span class="s2">"pointsHard"</span><span class="p">))</span>
                <span class="nx">db</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">commit</span><span class="p">()</span>
                <span class="k">return</span> <span class="nx">user</span><span class="p">.</span><span class="nx">to_dict</span><span class="p">(),</span> <span class="mf">201</span>
            <span class="k">else</span><span class="o">:</span>
                <span class="err">#</span> <span class="k">if</span> <span class="nx">user</span> <span class="nx">not</span> <span class="nx">found</span><span class="p">,</span> <span class="nx">error</span> <span class="nx">is</span> <span class="nx">returned</span>
                <span class="k">return</span> <span class="p">{</span><span class="s2">"message"</span><span class="o">:</span> <span class="s2">"leaderboard not found"</span><span class="p">},</span> <span class="mf">404</span>
        <span class="nx">except</span> <span class="nx">Exception</span> <span class="nx">as</span> <span class="nx">e</span><span class="o">:</span>
            <span class="err">#</span> <span class="nx">checks</span> <span class="k">for</span> <span class="nx">errors</span> <span class="k">in</span> <span class="nx">request</span>
            <span class="nx">db</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">rollback</span><span class="p">()</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">"message"</span><span class="o">:</span> <span class="nx">f</span><span class="s2">"server error: {e}"</span><span class="p">},</span> <span class="mf">500</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="DELETE-Method">
<a class="anchor" href="#DELETE-Method" aria-hidden="true"><span class="octicon octicon-link"></span></a>DELETE Method<a class="anchor-link" href="#DELETE-Method"> </a>
</h4>
<ul>
<li>This method is used to <em>__</em> a specific information from the database, again searching by username.</li>
<li>The overall structure stays the same between different databases, but the specific <em>__</em> will need to be changed to personalize the database.<ul>
<li>A variable for the username is created in order to search for for the user name requested later in the code with the function <code>find_by_username()</code>.</li>
<li>If the user is found, the user is deleted, along with that user's data and the change is saved to the database.</li>
<li>If the user isn't found or if an error is found with the data requested, an <em>__</em> is returned.</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-javascript"><pre><span></span><span class="nx">def</span> <span class="k">delete</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span><span class="o">:</span>
        <span class="err">#</span> <span class="nx">username</span> <span class="nx">variable</span> <span class="nx">defined</span> <span class="nx">to</span> <span class="nx">store</span> <span class="nx">requested</span> <span class="nx">value</span>
        <span class="nx">username</span> <span class="o">=</span> <span class="nx">request</span><span class="p">.</span><span class="nx">get_json</span><span class="p">().</span><span class="nx">get</span><span class="p">(</span><span class="s2">"username"</span><span class="p">)</span>
        <span class="nx">print</span><span class="p">(</span><span class="nx">username</span><span class="p">,</span> <span class="s2">"uid"</span><span class="p">)</span>

        <span class="k">try</span><span class="o">:</span>
            <span class="err">#</span> <span class="nx">finds</span> <span class="nx">the</span> <span class="nx">username</span> <span class="nx">and</span> <span class="nx">stores</span> <span class="nx">data</span> <span class="k">in</span> <span class="nx">variable</span>
            <span class="nx">user</span> <span class="o">=</span> <span class="nx">find_by_username</span><span class="p">(</span><span class="nx">username</span><span class="p">)</span>
            <span class="k">if</span> <span class="nx">user</span><span class="o">:</span>
                <span class="err">#</span> <span class="k">if</span> <span class="nx">the</span> <span class="nx">user</span> <span class="nx">is</span> <span class="nx">found</span><span class="p">,</span> <span class="nx">the</span> <span class="nx">user</span> <span class="nx">and</span> <span class="nx">their</span> <span class="nx">data</span> <span class="nx">is</span> <span class="nx">deleted</span>
                <span class="nx">db</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="nx">user</span><span class="p">)</span>
                <span class="nx">db</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">commit</span><span class="p">()</span>
                <span class="k">return</span> <span class="nx">user</span><span class="p">.</span><span class="nx">to_dict</span><span class="p">()</span>
            <span class="k">else</span><span class="o">:</span>
                <span class="err">#</span> <span class="k">if</span> <span class="nx">user</span> <span class="nx">not</span> <span class="nx">found</span><span class="p">,</span> <span class="nx">error</span> <span class="nx">is</span> <span class="nx">returned</span>
                <span class="k">return</span> <span class="p">{</span><span class="s2">"message"</span><span class="o">:</span> <span class="s2">"leaderboard not found"</span><span class="p">},</span> <span class="mf">404</span>
        <span class="nx">except</span> <span class="nx">Exception</span> <span class="nx">as</span> <span class="nx">e</span><span class="o">:</span>
            <span class="err">#</span> <span class="nx">error</span> <span class="nx">checking</span> <span class="k">for</span> <span class="nx">request</span> <span class="nx">error</span>
            <span class="nx">db</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">rollback</span><span class="p">()</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">"message"</span><span class="o">:</span> <span class="nx">f</span><span class="s2">"server error: {e}"</span><span class="p">},</span> <span class="mf">500</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Displaying-the-Full-Database">
<a class="anchor" href="#Displaying-the-Full-Database" aria-hidden="true"><span class="octicon octicon-link"></span></a>Displaying the Full Database<a class="anchor-link" href="#Displaying-the-Full-Database"> </a>
</h4>
<ul>
<li>Another class is created in order to display the entire database at once and also to delete the entire database if necessary.</li>
<li>This uses the same functions as before to GET and DELETE the data, however it is modified slightly to look through the entire database abd display or delete all data points.</li>
<li>An example of where this would be useful is to create a table of data in the frontend.</li>
</ul>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-javascript"><pre><span></span><span class="kr">class</span> <span class="nx">LeaderboardListAPI</span><span class="p">(</span><span class="nx">Resource</span><span class="p">)</span><span class="o">:</span>
    <span class="err">#</span> <span class="nx">GET</span> <span class="nx">method</span>
    <span class="nx">def</span> <span class="nx">get</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span><span class="o">:</span>
        <span class="k">try</span><span class="o">:</span>
            <span class="err">#</span> <span class="nx">attempts</span> <span class="nx">to</span> <span class="nx">find</span> <span class="nx">the</span> <span class="nx">entire</span> <span class="nx">database</span> <span class="nx">requested</span> <span class="nx">and</span> <span class="nx">is</span> <span class="nx">stored</span> <span class="k">in</span> <span class="nx">variable</span>
            <span class="nx">leaderboards</span> <span class="o">=</span> <span class="nx">db</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="nx">Leaderboard</span><span class="p">).</span><span class="nx">all</span><span class="p">()</span>
            <span class="err">#</span> <span class="nx">sends</span> <span class="nx">back</span> <span class="nx">the</span> <span class="nx">entire</span> <span class="nx">database</span>
            <span class="k">return</span> <span class="p">[</span><span class="nx">leaderboard</span><span class="p">.</span><span class="nx">to_dict</span><span class="p">()</span> <span class="k">for</span> <span class="nx">leaderboard</span> <span class="k">in</span> <span class="nx">leaderboards</span><span class="p">]</span>
        <span class="nx">except</span> <span class="nx">Exception</span> <span class="nx">as</span> <span class="nx">e</span><span class="o">:</span>
            <span class="err">#</span> <span class="nx">error</span> <span class="nx">checking</span> <span class="k">for</span> <span class="nx">request</span> <span class="nx">errors</span>
            <span class="nx">db</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">rollback</span><span class="p">()</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">"message"</span><span class="o">:</span> <span class="nx">f</span><span class="s2">"server error: {e}"</span><span class="p">},</span> <span class="mf">500</span>

    <span class="err">#</span> <span class="nx">DELETE</span> <span class="nx">method</span>
    <span class="nx">def</span> <span class="k">delete</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span><span class="o">:</span>
        <span class="k">try</span><span class="o">:</span>
            <span class="err">#</span> <span class="nx">deletes</span> <span class="nx">entire</span> <span class="nx">database</span>
            <span class="nx">db</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="nx">Leaderboard</span><span class="p">).</span><span class="k">delete</span><span class="p">()</span>
            <span class="nx">db</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">commit</span><span class="p">()</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="nx">except</span> <span class="nx">Exception</span> <span class="nx">as</span> <span class="nx">e</span><span class="o">:</span>
            <span class="err">#</span> <span class="nx">checks</span> <span class="k">for</span> <span class="nx">errors</span> <span class="k">in</span> <span class="nx">request</span>
            <span class="nx">db</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">rollback</span><span class="p">()</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">"message"</span><span class="o">:</span> <span class="nx">f</span><span class="s2">"server error: {e}"</span><span class="p">},</span> <span class="mf">500</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Popcorn-Hacks">
<a class="anchor" href="#Popcorn-Hacks" aria-hidden="true"><span class="octicon octicon-link"></span></a>Popcorn Hacks<a class="anchor-link" href="#Popcorn-Hacks"> </a>
</h4>
<p>Please answer these questions to earn points for the popcorn hacks.</p>
<ol>
<li>What are the four HTTP request methods that are used with Flask?</li>
</ol>
<ul>
<li>PUT, POST, GET, and DELETE</li>
</ul>
<ol>
<li>What is a parser and how would it be aid with data validation?</li>
</ol>
<ul>
<li>A parser changes data from one type to another, like string to object, and it is useful because if the parse fails that means the data is invalid somehow.</li>
</ul>
<ol>
<li>What is the role endpoints in Flask?</li>
</ol>
<ul>
<li>Endpoints lets computers talk to each other across the web</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Frontend-and-How-it-Communicates-to-Backend">
<a class="anchor" href="#Frontend-and-How-it-Communicates-to-Backend" aria-hidden="true"><span class="octicon octicon-link"></span></a>Frontend and How it Communicates to Backend<a class="anchor-link" href="#Frontend-and-How-it-Communicates-to-Backend"> </a>
</h3>
<blockquote>
<p>This first part of the frontend logic simply finds out of the site is running locally or not, off of which is figures out whether or not to pull data from the local backend link or the global backend link. In this example, a global backend link hasn't been sent, however it would go in the second set of quotations after the local address. This isn't something you need to know, but it is nice to use when developing full stack applications.</p>
</blockquote>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-javascript"><pre><span></span><span class="c1">// checks if site is run locally</span>
<span class="kr">const</span> <span class="nx">isLocalhost</span> <span class="o">=</span> <span class="nb">Boolean</span><span class="p">(</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">hostname</span> <span class="o">===</span> <span class="s2">"localhost"</span> <span class="o">||</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">hostname</span> <span class="o">===</span> <span class="s2">"[::1]"</span> <span class="o">||</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">hostname</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/</span><span class="p">)</span>
<span class="p">)</span>
<span class="c1">// defines database url</span>
<span class="kr">const</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">isLocalhost</span> <span class="o">?</span> <span class="s2">"http://localhost:8200"</span> <span class="o">:</span> <span class="s2">""</span><span class="p">;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="GET-Method">
<a class="anchor" href="#GET-Method" aria-hidden="true"><span class="octicon octicon-link"></span></a>GET Method<a class="anchor-link" href="#GET-Method"> </a>
</h4>
<ul>
<li>This method is more complicated in terms of requesting, simply because in order to, for example, print all data points into a table, the function needs to iterate through the entire database.</li>
<li>In this example, the function <code>getList()</code> is used to asynchronously fetch the entire database and set it to a variable called <code>list</code>.<ul>
<li>The list is returned for later use outside of this function in order to print the data.</li>
</ul>
</li>
</ul>
<h5 id="Printing-the-Data">
<a class="anchor" href="#Printing-the-Data" aria-hidden="true"><span class="octicon octicon-link"></span></a>Printing the Data<a class="anchor-link" href="#Printing-the-Data"> </a>
</h5>
<ul>
<li>In order to print the data, the function <code>getList()</code> is run and once it is run, it iterates through the data to pull out each individual data point and enter it into the function used to make the table.<ul>
<li>For each class in the database, which is each row in the database, the variables corresponding to that specific class are pulled and inserted into the <code>addTask()</code> function as parameters to create the table of users.</li>
</ul>
</li>
<li>The function <code>addTask()</code> is used to create the visual table that the user sees.<ul>
<li>A row is created and for each table cell in that row, the data is added by iterating through the array of variables that are parameters pulled directly from the database.</li>
<li>A new row is added into table for each new class of information pulled from the database.</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-javascript"><pre><span></span><span class="c1">// fetches entire database</span>
<span class="kr">const</span> <span class="nx">getList</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="c1">// stores it in variable list</span>
  <span class="kr">const</span> <span class="nx">list</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="nx">api</span> <span class="o">+</span> <span class="s2">"/leaderboardList"</span><span class="p">).</span><span class="nx">then</span><span class="p">((</span><span class="nx">r</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">r</span><span class="p">.</span><span class="nx">json</span><span class="p">());</span>
  <span class="k">return</span> <span class="nx">list</span>
<span class="p">};</span>

<span class="c1">// goes through entire database and pulls each individual class</span>
<span class="nx">getList</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="nx">list</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="c1">// for each class (row), data is pulled and added into addTask() function to be put in visual table</span>
  <span class="nx">list</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">cls</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">addTask</span><span class="p">(</span><span class="nx">cls</span><span class="p">.</span><span class="nx">username</span><span class="p">,</span> <span class="nx">cls</span><span class="p">.</span><span class="nx">pointsEasy</span><span class="p">,</span> <span class="nx">cls</span><span class="p">.</span><span class="nx">pointsMedium</span><span class="p">,</span> <span class="nx">cls</span><span class="p">.</span><span class="nx">pointsHard</span><span class="p">)</span>
  <span class="p">})</span>
<span class="p">})</span>

<span class="c1">// adds visual representation of data in table</span>
<span class="kd">function</span> <span class="nx">addTask</span><span class="p">(</span><span class="nx">username</span><span class="p">,</span> <span class="nx">pointsEasy</span><span class="p">,</span> <span class="nx">pointsMedium</span><span class="p">,</span> <span class="nx">pointsHard</span><span class="p">)</span> <span class="p">{</span>

  <span class="c1">// array of variables defining data points</span>
  <span class="kd">var</span> <span class="nx">tableCells</span> <span class="o">=</span> <span class="p">[</span><span class="nx">username</span><span class="p">,</span> <span class="nx">pointsEasy</span><span class="p">,</span> <span class="nx">pointsMedium</span><span class="p">,</span> <span class="nx">pointsHard</span><span class="p">]</span>
  <span class="c1">// creates new row in variable</span>
  <span class="kd">var</span> <span class="nx">row</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">'tr'</span><span class="p">)</span>
  <span class="c1">// goes through entire data set and places data into cells</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mf">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">tableCells</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">tableCell</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">'th'</span><span class="p">)</span>
    <span class="nx">tableCell</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="nx">tableCells</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>
    <span class="nx">tableCell</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">'cell'</span>
    <span class="nx">row</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">tableCell</span><span class="p">)</span>
  <span class="p">}</span>
  <span class="c1">// creates new row as child of schedule element</span>
  <span class="nx">schedule</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">row</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="POST-Method">
<a class="anchor" href="#POST-Method" aria-hidden="true"><span class="octicon octicon-link"></span></a>POST Method<a class="anchor-link" href="#POST-Method"> </a>
</h4>
<ul>
<li>This method is used to push data to the backend using the HTTP POST method.<ul>
<li>The function <code>addData</code> is defined with the parameters that are going to be pushed into the backend.</li>
<li>An object is created to define the variables that are going to be pushed into the backend. This is basically the JSON string that will be sent to the backend to get decoded and inserted into the database.</li>
<li>The <code>fetch()</code> function is called with the <code>api</code> variable, which is a variable representing the url for the backend API, and the extension specific to where the data will be posted, in this case being <code>/leaderboard</code>.<ul>
<li>The method, headers, and body of the data are defined in order to complete a successful HTTP request to the backend. The object <code>data</code> which was created earlier, is converted to a JSON string here and sent to the backend.</li>
</ul>
</li>
<li>If an error is detected, it is returned and the request will fail.</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-javascript"><pre><span></span><span class="c1">// calls addData function</span>
<span class="kd">function</span> <span class="nx">addData</span><span class="p">(</span><span class="nx">username</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">pointsEasy</span><span class="p">,</span> <span class="nx">pointsMedium</span><span class="p">,</span> <span class="nx">pointsHard</span><span class="p">){</span>

<span class="c1">// creates object defining the variables that will be added to the backend, corresponding with the backend variables</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"username"</span><span class="o">:</span> <span class="nx">username</span><span class="p">,</span>
  <span class="s2">"password"</span><span class="o">:</span> <span class="nx">password</span><span class="p">,</span>
  <span class="s2">"pointsEasy"</span><span class="o">:</span> <span class="nx">pointsEasy</span><span class="p">,</span>
  <span class="s2">"pointsMedium"</span><span class="o">:</span> <span class="nx">pointsMedium</span><span class="p">,</span>
  <span class="s2">"pointsHard"</span><span class="o">:</span> <span class="nx">pointsHard</span>
<span class="p">}</span>

<span class="c1">// POST method called</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">api</span> <span class="o">+</span> <span class="s1">'/leaderboard'</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">method</span><span class="o">:</span> <span class="s1">'POST'</span><span class="p">,</span>
  <span class="nx">headers</span><span class="o">:</span> <span class="p">{</span>
    <span class="s1">'Content-Type'</span><span class="o">:</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="nx">body</span><span class="o">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">data</span><span class="p">),</span>
<span class="p">})</span>
  <span class="c1">// error checking</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">'Error:'</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="PUT-and-DELETE-Methods">
<a class="anchor" href="#PUT-and-DELETE-Methods" aria-hidden="true"><span class="octicon octicon-link"></span></a>PUT and DELETE Methods<a class="anchor-link" href="#PUT-and-DELETE-Methods"> </a>
</h4>
<ul>
<li>These two methods are almost identical to the POST method above in the way they work, the only difference being that the method requested is different. The name of the function defined is also changes, in this case being <code>editData()</code> and <code>deleteData()</code>.</li>
</ul>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-javascript"><pre><span></span><span class="c1">// editing function defined</span>
<span class="kd">function</span> <span class="nx">editData</span><span class="p">(</span><span class="nx">username</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">pointsEasy</span><span class="p">,</span> <span class="nx">pointsMedium</span><span class="p">,</span> <span class="nx">pointsHard</span><span class="p">){</span>

  <span class="c1">// has object with variables that are required in backend</span>
  <span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"username"</span><span class="o">:</span> <span class="nx">username</span><span class="p">,</span>
    <span class="s2">"password"</span><span class="o">:</span> <span class="nx">password</span><span class="p">,</span>
    <span class="s2">"pointsEasy"</span><span class="o">:</span> <span class="nx">pointsEasy</span><span class="p">,</span>
    <span class="s2">"pointsMedium"</span><span class="o">:</span> <span class="nx">pointsMedium</span><span class="p">,</span>
    <span class="s2">"pointsHard"</span><span class="o">:</span> <span class="nx">pointsHard</span>
  <span class="p">}</span>
  
  <span class="c1">// PUT method called</span>
  <span class="nx">fetch</span><span class="p">(</span><span class="nx">api</span> <span class="o">+</span> <span class="s1">'/leaderboard'</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">method</span><span class="o">:</span> <span class="s1">'PUT'</span><span class="p">,</span>
    <span class="nx">headers</span><span class="o">:</span> <span class="p">{</span>
      <span class="s1">'Content-Type'</span><span class="o">:</span> <span class="s1">'application/json'</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="nx">body</span><span class="o">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">data</span><span class="p">),</span>
  <span class="p">})</span>
    <span class="c1">// error checking</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">'Error:'</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-javascript"><pre><span></span><span class="c1">// deleting function defined</span>
<span class="kd">function</span> <span class="nx">deleteData</span><span class="p">(</span><span class="nx">username</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">pointsEasy</span><span class="p">,</span> <span class="nx">pointsMedium</span><span class="p">,</span> <span class="nx">pointsHard</span><span class="p">){</span>

  <span class="c1">// object defined with variables that are same as backend</span>
  <span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"username"</span><span class="o">:</span> <span class="nx">username</span><span class="p">,</span>
    <span class="s2">"password"</span><span class="o">:</span> <span class="nx">password</span><span class="p">,</span>
    <span class="s2">"pointsEasy"</span><span class="o">:</span> <span class="nx">pointsEasy</span><span class="p">,</span>
    <span class="s2">"pointsMedium"</span><span class="o">:</span> <span class="nx">pointsMedium</span><span class="p">,</span>
    <span class="s2">"pointsHard"</span><span class="o">:</span> <span class="nx">pointsHard</span>
  <span class="p">}</span>
  
  <span class="c1">// DELETE method called</span>
  <span class="nx">fetch</span><span class="p">(</span><span class="nx">api</span> <span class="o">+</span> <span class="s1">'/leaderboard'</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">method</span><span class="o">:</span> <span class="s1">'DELETE'</span><span class="p">,</span>
    <span class="nx">headers</span><span class="o">:</span> <span class="p">{</span>
      <span class="s1">'Content-Type'</span><span class="o">:</span> <span class="s1">'application/json'</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="nx">body</span><span class="o">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">data</span><span class="p">),</span>
  <span class="p">})</span>
    <span class="c1">// error checking</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">'Error:'</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Calling-Images-(GET-Method)">
<a class="anchor" href="#Calling-Images-(GET-Method)" aria-hidden="true"><span class="octicon octicon-link"></span></a>Calling Images (GET Method)<a class="anchor-link" href="#Calling-Images-(GET-Method)"> </a>
</h3>
<ul>
<li>The process for calling images is basically the same as anything else, except you need to be able to reconstruct the images based on the base64 that is requested from the backend.</li>
<li>In this case, the image in the api is being called to the frontend and is returned as the variable <code>list</code>.<ul>
<li>This is then inserted directly into the html by getting the element that needs to be edited and styling with css by using the built-in function <code>data:image/png;base64,</code> which translated from bytes to pixel.</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-javascript"><pre><span></span><span class="c1">// GET method calling info from backend url</span>
<span class="kr">const</span> <span class="nx">getList</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">list</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="nx">api</span> <span class="o">+</span> <span class="s2">"/api/images/GetEasyImage"</span><span class="p">).</span><span class="nx">then</span><span class="p">((</span><span class="nx">r</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">r</span><span class="p">.</span><span class="nx">json</span><span class="p">());</span>
  <span class="k">return</span> <span class="nx">list</span>
<span class="p">};</span>

<span class="c1">// inserting image into frontend</span>
<span class="nx">getList</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="nx">list</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">"body"</span><span class="p">)[</span><span class="mf">0</span><span class="p">].</span><span class="nx">style</span> <span class="o">=</span> <span class="s2">"background-image: url('data:image/png;base64, "</span> <span class="o">+</span> <span class="nx">list</span><span class="p">.</span><span class="nx">bytes</span> <span class="o">+</span><span class="s2">"');"</span>
<span class="p">})</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Popcorn-Hacks">
<a class="anchor" href="#Popcorn-Hacks" aria-hidden="true"><span class="octicon octicon-link"></span></a>Popcorn Hacks<a class="anchor-link" href="#Popcorn-Hacks"> </a>
</h4>
<p>Please answer these questions to earn points for the popcorn hacks.</p>
<ol>
<li>How is data for images stored in a Flask API and how is it displayed on the frontend when requested?</li>
</ol>
<ul>
<li>Data is stored in base64 which is then sent to the frontend where it is decoded back to an image format and displayed</li>
</ul>
<ol>
<li>What is the <code>fetch()</code> function and how is it used in frontend logic?</li>
</ol>
<ul>
<li>
<code>fetch()</code> is a function that makes an api request</li>
</ul>
<ol>
<li>How is data formatted and sent to the backend? (mention JSON in your answer)</li>
</ol>
<ul>
<li>The data is made with a Javascript object which is then turned into JSON string data using <code>JSON.stringify()</code> and sent to the backend</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Time-and-Space-Complexity-of-Algorithms">
<a class="anchor" href="#Time-and-Space-Complexity-of-Algorithms" aria-hidden="true"><span class="octicon octicon-link"></span></a>Time and Space Complexity of Algorithms<a class="anchor-link" href="#Time-and-Space-Complexity-of-Algorithms"> </a>
</h2>
<p>The lesson for time and space complexity of algorithms will consist of demonstrations of sorting algorithms and the different time complexities that they come with on a small scale. This can be acomplished using things such as a deck of cards or even with actual people. An example of how this will work is laying out the cards in a random order on the table, and demonstrating different ways of sorting it. From methods such as bubble sort to methods such as bogo sort, it will be really easy to see exactly how much time it would take for these different sorting algoritms to complete. Then after that, it is easy to understand the concept of time complexity when given a real world example.</p>
<p>Space complexity can be demonstrated by using the same method, however, adding in the extra step of having the cards in a pile. This will show how much space is needed to complete the sorting algorithm. This will easily reveal the concept of space complexity because it allows people to witness a real world, physical example of the concept, turning a really hard to grasp concept into something that is easy to understand.</p>
<p>Additionally, we are also going to analyze certain algorithms within our project to show how such analysis is applicable to real world projects.</p>
<p><strong>Essential Question: What is the quicksort algorithm, and how does it work? How does it's time and space complexities scale with input sizes?</strong></p>
<h3 id="QuickSort-Algorithm">
<a class="anchor" href="#QuickSort-Algorithm" aria-hidden="true"><span class="octicon octicon-link"></span></a>QuickSort Algorithm<a class="anchor-link" href="#QuickSort-Algorithm"> </a>
</h3>
<p>The main algorithm we've employed is an recursive implementation of quickSort in the backend to sort the database entries to obtain the user with the highest overall score. Typically this algorithm is implemented to sort in ascending order, but to make it easier to extract the top 10 users, we sill be modifying the algorithm to sort in descending order (so the top players show up first in the list).</p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">LeaderboardTop10</span><span class="p">(</span><span class="n">Resource</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">partition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arr</span><span class="p">,</span> <span class="n">lo</span><span class="p">,</span> <span class="n">hi</span><span class="p">):</span>
        <span class="n">pivot</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">hi</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>                                              <span class="c1"># Pivot value set to the 2nd index of the last element</span>
        <span class="n">pivot_pos</span> <span class="o">=</span> <span class="n">lo</span> <span class="o">-</span> <span class="mi">1</span>                                              <span class="c1"># Set our base pivot position, ensure that lower picoit index == lo</span>
        <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">lo</span><span class="p">,</span> <span class="n">hi</span><span class="p">):</span>                                       <span class="c1"># Iterate over all elements in the partition array</span>
            <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">idx</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">pivot</span><span class="p">:</span>                                    <span class="c1"># Found an element creater than pivot</span>
                <span class="n">pivot_pos</span><span class="o">+=</span><span class="mi">1</span>                                            <span class="c1"># Increment correct position for pivot</span>
                <span class="n">arr</span><span class="p">[</span><span class="n">pivot_pos</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">idx</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">pivot_pos</span><span class="p">]</span>     <span class="c1"># Swap the larger element with the element at the current pivot position</span>
        <span class="n">arr</span><span class="p">[</span><span class="n">pivot_pos</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">hi</span><span class="p">]</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">hi</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">pivot_pos</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>       <span class="c1"># Swap element at pivot position with the pivot element</span>
        <span class="k">return</span> <span class="n">pivot_pos</span><span class="o">+</span><span class="mi">1</span>                                              <span class="c1"># Return index of pivot element</span>

    <span class="k">def</span> <span class="nf">qSortUserList</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arr</span><span class="p">,</span> <span class="n">lo</span><span class="p">,</span> <span class="n">hi</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">lo</span> <span class="o">&lt;</span> <span class="n">hi</span><span class="p">:</span>
            <span class="n">last_pivot</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">partition</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">lo</span><span class="p">,</span> <span class="n">hi</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">qSortUserList</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">lo</span><span class="p">,</span> <span class="n">last_pivot</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">qSortUserList</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">last_pivot</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">hi</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">users_list</span> <span class="o">=</span> <span class="n">get_user_list</span><span class="p">()</span>
        <span class="n">top10</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">qSortUserList</span><span class="p">(</span><span class="n">users_list</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">users_list</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="n">users_list</span><span class="p">:</span>
            <span class="n">top10</span><span class="p">[</span><span class="n">user</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">user</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">top10</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">top10</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">top10</span>
        <span class="k">return</span> <span class="n">top10</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
<p>To understand how the algorithm first, we must first familiarize ourselves with the process.</p>
<ol>
<li>Our backend grabs all users from our leaderboard </li>
<li>Returns all users and their scores in a 2-D array, each element is a list of length two that contains the username and cumulative score of the player</li>
<li>The sorting algorithm will use the second element representing the user score to sort the array of users.  
<pre><code>┌─────────────────────┐               ┌──────────────────┐              ┌─────────────────┐  
│                     │               │                  │              │                 │  
│                     │               │      Split       │              │    display      │  
│      Database       │               │       the        ├──────────────►    sorted list  │  
│                     │               │    List into     │              │    on endpoint  │  
│                     │               │   top 10 users   │              │                 │  
└──────────┬──────────┘               └─────────▲────────┘              └─────────────────┘  
        │                                    │  
        │                                    │  
        │                                    │  
        │                                    │  
┌──────────▼──────────┐               ┌─────────┴────────┐  
│                     │               │                  │  
│   2-D User  Array   │               │    QuickSort     │  
│                     ├───────────────►                  │  
│ [(username, score)] │               │    Algorithm     │  
│                     │               │                  │  
└─────────────────────┘               └──────────────────┘</code></pre>
Our quickSort algorithm consists of 2 procedures, a <code>partition()</code> procedure that <strong>pivots</strong> and sorts individual elements, and a <code>qSortUserList()</code> that performs recursion which finishes the sorting.</li>
</ol>
<h3 id="The-Logic">
<a class="anchor" href="#The-Logic" aria-hidden="true"><span class="octicon octicon-link"></span></a>The Logic<a class="anchor-link" href="#The-Logic"> </a>
</h3>
<p>The partition procedure will serve to "partition" our list into 2 parts, a smaller portion and a larger portion around a certain pivot value (Note: These portions don't have to sorted yet!).</p>
<h4 id="Partition-procedure">
<a class="anchor" href="#Partition-procedure" aria-hidden="true"><span class="octicon octicon-link"></span></a>Partition procedure<a class="anchor-link" href="#Partition-procedure"> </a>
</h4>
<p>First, partition selects a certain element in a list to be a pivot. This pivot value will be used to make comparisons to every other value in the array. For simplicity, we have selected our pivot element as the last element in the unsorted list. The procedure defines a <code>pivot_pos</code> variable to denote the correct position of the pivot index after each iteration. Although it may seem weird that the variable intially starts with a value of 0-1 = -1, this negative index is resolved by the return statement, which always returns an index that's one higher than pivot_pos. This serves to ensure that the lowest pivot index would be 0, which is the smallest element in any given partition.</p>
<div class="highlight"><pre><span></span><span class="n">pivot</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">hi</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
<span class="n">pivot_pos</span> <span class="o">=</span> <span class="n">lo</span> <span class="o">-</span> <span class="mi">1</span>
</pre></div>
<p>The partition will then iterate over each element in the list from the starting and ending indexes indicated by the parameters. if a particular value is found to be larger than the pivot, the algorithm well then increment the recorded pivot position and swap the pivot with the found element.</p>
<div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">lo</span><span class="p">,</span> <span class="n">hi</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">idx</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">pivot</span><span class="p">:</span>
        <span class="n">pivot_pos</span><span class="o">+=</span><span class="mi">1</span>
        <span class="n">arr</span><span class="p">[</span><span class="n">pivot_pos</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">idx</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">pivot_pos</span><span class="p">]</span>
</pre></div>
<p>Finally, the partition procedure swaps the element at the <code>pivot_pos+1</code> index with our pivot element at the <code>hi</code> index to place the pivot at it's rightful place. We know that <code>pivot_pos+1</code> must be smaller than <code>hi</code> because it did not trigger the conditional to increment the `pivot_pos+1`` index. At last, the pivot_pos is incremented and returned to serve as an indicator of where our two partitions split.</p>
<div class="highlight"><pre><span></span><span class="n">arr</span><span class="p">[</span><span class="n">pivot_pos</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">hi</span><span class="p">]</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">hi</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">pivot_pos</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
<span class="k">return</span> <span class="n">pivot_pos</span><span class="o">+</span><span class="mi">1</span>
</pre></div>
<h4 id="qSort-procedure">
<a class="anchor" href="#qSort-procedure" aria-hidden="true"><span class="octicon octicon-link"></span></a>qSort procedure<a class="anchor-link" href="#qSort-procedure"> </a>
</h4>
<p>If the parition procedure splits our list into smaller and larger regions, then our qSort procedure ensures that these regions are in order. It's hard to explain, but the procedure iterates over each paritition, repeating the paritition process, setting new pivot values, and correctly places the pivot values at their correct sorted order.</p>
<p>The procedure first checks if the lower index is smaller than the higher index, to ensure that our parition has a length greater than 1. If this check passes, the procedure then calls the <code>partition</code> procedure to both split our list into the two distinct regions and also the index of our correctly placed pivot value. The procedure then invokes itself again on the larger interval (replacing hi to be the partition index-1 since the previous pivot is already sorted), and also on the smaller interval (replacing lo to be partition index+1).</p>
<p>Eventually, the qSort procedure will iterate through all elements in the list while parition places each element at the correct position, giving us the final sorted list.</p>
<h4 id="Complexity-analysis">
<a class="anchor" href="#Complexity-analysis" aria-hidden="true"><span class="octicon octicon-link"></span></a>Complexity analysis<a class="anchor-link" href="#Complexity-analysis"> </a>
</h4>
<p>To analyze time complexity, we must analyze the partition and qSort procedures.</p>
<p>For the qSort procedure, because we divide the array into 2 halves during each function call, our number of function calls scales proportionally to log(n), where n is the length of the input array. However, within each function call, we also call the partition procedure, which contains an for-loop that iterates over each element in the partioned array, comparing it to a pivot value. We are well familiar with since loops, and can safely say that runtime scales proportionally to the length of the partition array. Due to this, we can conclude that our iteration time complexity scales linearly. Thus for each iterative process, our timerun scales proportionally to n.</p>
<p>Finally, we could multiply our two complexities together to get a representation of our overall complexity. Thus, the asymptotic notation for a time complexity could be represented as O(nlog(n)), where n is the length of the input array. Keep in mind, Big-Oh notation is not a function that returns the accurate runtime for any given input, but rather only gives us a model to see how runtime scales with increasing input sizes.</p>
<p>Space complexity for this program is much easier to analyze. Because the array is sorted in-place (meaning we don't create other placeholders or copies), we require no additional space to sort this array. However, recursive function calls may require extra storage on the call stack. Since we found the number of recursive calls to be asymptotic to O(log(n)), we can conclude that quickSort has an <strong>O(1)</strong> space complexity for an iterative method, and an <strong>O(logn)</strong> space complexity for a recursive method.</p>
<h3 id="Popcorn-Hack">
<a class="anchor" href="#Popcorn-Hack" aria-hidden="true"><span class="octicon octicon-link"></span></a>Popcorn Hack<a class="anchor-link" href="#Popcorn-Hack"> </a>
</h3>
<p>Please answer our EQ for this section: <strong>What is the quicksort algorithm, and how does it work? How does it's time and space complexities scale with input sizes?</strong></p>
<ul>
<li>The quicksort algorithm selects a random value and finds all of the values to the left of it that are bigger and puts them to the right and leaves the other ones. This makes the pivot in the right spot, and then you just run this over and over on the rest of the divisions. It's time complexity scales according to the function nlog(n) as input sizes get bigger and bigger. It has an O(1) space complexity for iterative and O(logn) for a recursive method.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Hacks---Frontend-and-Backend">
<a class="anchor" href="#Hacks---Frontend-and-Backend" aria-hidden="true"><span class="octicon octicon-link"></span></a>Hacks - Frontend and Backend<a class="anchor-link" href="#Hacks---Frontend-and-Backend"> </a>
</h2>
<p>Please clone these two repositories:</p>
<ul>
<li><a href="https://github.com/DavidVasilev1/hacks-FE">Frontend</a></li>
<li><a href="https://github.com/DavidVasilev1/hacks-BE">Backend</a></li>
</ul>
<p>Directions:</p>
<p>You will be creating a full stack of a text and image database which you will code in the Flask Backend and pull information to sort in the Frontend.</p>
<p>You need to have coded a fully working CRUD in the Flask, which you can show working with Postman, however you only need to show the Frontend reading and displaying data from the backend.</p>
<p>You may use the code we showed to you today in class in order to code the both the Frontend and Backend.</p>
<p>Follow the directions in the comments in the Flask Backend and the ReadMe in the frontend before starting.</p>
<h2 id="Hacks---QuickSort">
<a class="anchor" href="#Hacks---QuickSort" aria-hidden="true"><span class="octicon octicon-link"></span></a>Hacks - QuickSort<a class="anchor-link" href="#Hacks---QuickSort"> </a>
</h2>
<p>On this notebook, try recreating the original quicksort algorithm from our modified version. For an additional challenge, try abstracting the partitioning process through list comprehension!</p>
<p>After creating a successful algorithm, either create a diagram showing how the algorithm works, or a diagram that illustrates the time and/or space complexity of a recursive approach.</p>
<h2 id="Hacks-Helpers">
<a class="anchor" href="#Hacks-Helpers" aria-hidden="true"><span class="octicon octicon-link"></span></a>Hacks Helpers<a class="anchor-link" href="#Hacks-Helpers"> </a>
</h2>
<p>If you need help with your hacks, you can check out our project repos to see how we did it.</p>
<ul>
<li><a href="https://github.com/DavidVasilev1/Nighthawk-guessr/blob/gh-pages/leaderboard.html">Frontend Table</a></li>
<li><a href="https://github.com/DavidVasilev1/Nighthawk-guessr/blob/gh-pages/game.html">Frontend Image</a></li>
<li><a href="https://github.com/DavidVasilev1/flask3/tree/master/nighthawkguessr_api">Backend</a></li>
</ul>
<p>You can also message us on the coding Slack channel for additional help.</p>
<h2 id="Points">
<a class="anchor" href="#Points" aria-hidden="true"><span class="octicon octicon-link"></span></a>Points<a class="anchor-link" href="#Points"> </a>
</h2>
<ul>
<li>Popcorn Hacks - 0.1 pts</li>
<li>Full Stack - 0.4+<ul>
<li>0.5 extra for styling html page</li>
</ul>
</li>
<li>QuickSort Hacks - 0.3+<ul>
<li>0.5 extra for implementing quicksort</li>
</ul>
</li>
</ul>
<h1 id="HACKS-ARE-DUE-SATURDAY-(4/29)-11:59-PM">
<a class="anchor" href="#HACKS-ARE-DUE-SATURDAY-(4/29)-11:59-PM" aria-hidden="true"><span class="octicon octicon-link"></span></a>HACKS ARE DUE SATURDAY (4/29) 11:59 PM<a class="anchor-link" href="#HACKS-ARE-DUE-SATURDAY-(4/29)-11:59-PM"> </a>
</h1>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-javascript"><pre><span></span><span class="kd">function</span> <span class="nx">partition</span><span class="p">(</span><span class="nx">array</span><span class="p">,</span> <span class="nx">low</span><span class="p">,</span> <span class="nx">high</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">pivot</span> <span class="o">=</span> <span class="nx">array</span><span class="p">[</span><span class="nx">high</span><span class="p">]</span>

    <span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="p">(</span><span class="nx">low</span> <span class="o">-</span> <span class="mf">1</span><span class="p">)</span>

    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">j</span> <span class="o">=</span> <span class="nx">low</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;=</span> <span class="nx">high</span> <span class="o">-</span> <span class="mf">1</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">array</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span> <span class="o">&lt;</span> <span class="nx">pivot</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">i</span><span class="o">++</span>
            <span class="p">[</span><span class="nx">array</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">array</span><span class="p">[</span><span class="nx">j</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">array</span><span class="p">[</span><span class="nx">j</span><span class="p">],</span> <span class="nx">array</span><span class="p">[</span><span class="nx">i</span><span class="p">]]</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="p">[</span><span class="nx">array</span><span class="p">[</span><span class="nx">i</span> <span class="o">+</span> <span class="mf">1</span><span class="p">],</span> <span class="nx">array</span><span class="p">[</span><span class="nx">high</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">array</span><span class="p">[</span><span class="nx">high</span><span class="p">],</span> <span class="nx">array</span><span class="p">[</span><span class="nx">i</span> <span class="o">+</span> <span class="mf">1</span><span class="p">]]</span>
    <span class="k">return</span> <span class="p">(</span><span class="nx">i</span> <span class="o">+</span> <span class="mf">1</span><span class="p">)</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">quickSort</span><span class="p">(</span><span class="nx">array</span><span class="p">,</span> <span class="nx">low</span><span class="p">,</span> <span class="nx">high</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">low</span> <span class="o">&gt;=</span> <span class="nx">high</span><span class="p">)</span> <span class="k">return</span>
    <span class="nx">piv</span> <span class="o">=</span> <span class="nx">partition</span><span class="p">(</span><span class="nx">array</span><span class="p">,</span> <span class="nx">low</span><span class="p">,</span> <span class="nx">high</span><span class="p">)</span>
    <span class="nx">quickSort</span><span class="p">(</span><span class="nx">array</span><span class="p">,</span> <span class="nx">low</span><span class="p">,</span> <span class="nx">piv</span> <span class="o">-</span> <span class="mf">1</span><span class="p">)</span>
    <span class="nx">quickSort</span><span class="p">(</span><span class="nx">array</span><span class="p">,</span> <span class="nx">piv</span> <span class="o">+</span> <span class="mf">1</span><span class="p">,</span> <span class="nx">high</span><span class="p">)</span>
<span class="p">}</span>
<span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mf">2</span><span class="p">,</span> <span class="mf">6</span><span class="p">,</span> <span class="mf">4</span><span class="p">,</span> <span class="mf">8</span><span class="p">,</span> <span class="mf">3</span><span class="p">,</span> <span class="mf">7</span><span class="p">,</span> <span class="mf">5</span><span class="p">]</span>
<span class="nx">quickSort</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">6</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arr</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[ 2, 3, 4, 5, 6, 7, 8 ]
</pre>
</div>
</div>

</div>
</div>

</div>
    

</div>



  </div><a class="u-url" href="/blog/2023/04/30/thursdayLesson.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/blog/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="https://dashpen.github.io/blog/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/blog/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>ඞඞඞ A good blog 👍</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li>
  <a rel="me" href="https://github.com/nighthawkcoders" target="_blank" title="github">
    <svg class="svg-icon grey">
      <use xlink:href="/blog/assets/minima-social-icons.svg#github"></use>
    </svg>
  </a>
</li>
<li>
  <a rel="me" href="https://twitter.com/NighthawkCoding" target="_blank" title="twitter">
    <svg class="svg-icon grey">
      <use xlink:href="/blog/assets/minima-social-icons.svg#twitter"></use>
    </svg>
  </a>
</li>
<li>
  <a rel="me" href="https://www.youtube.com/channel/UClIKOsDS5dsfzFA3zveDT3Q" target="_blank" title="youtube">
    <svg class="svg-icon grey">
      <use xlink:href="/blog/assets/minima-social-icons.svg#youtube"></use>
    </svg>
  </a>
</li>
</ul>
</div>

  </div>

</footer>
</body>

</html>
